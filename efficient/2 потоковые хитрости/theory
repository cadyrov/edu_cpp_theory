–ó–∞—á–µ–º —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –±—É—Ñ–µ—Ä
–í—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–æ—Ç–æ–∫ –ø—Ä–∏–Ω—è—Ç–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–º –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:
#include <iostream>
using namespace std
int main() {
    std::cout << "I\n"s;
    std::cout << "love"s << std::endl;
    std::cout << "C++"s << std::endl;
}
–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –º—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ \n –≤ –∫–æ–Ω—Ü–µ –ª–∏—Ç–µ—Ä–∞–ª–∞, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ endl.
–°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö:
I
love
C++
–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á–µ–º —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π —ç—Ç–∏ —Å–ø–æ—Å–æ–±—ã –Ω–∞–ø–∏—à–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –≤—ã–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–∞–π–ª:
#include <fstream>
#include <string>
using namespace std;
int main() {
    ofstream out_file("ballad.txt"s);
    for (int i = 0; i < 10; ++i) {
        out_file << "–° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å\n"s;
    }

    throw;
}
–î–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞ ballad.txt –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ç–æ–∫ ofstream –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <fstream>. –ú—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–æ–Ω–∫–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ —É–∂–µ –≤ —Å–ª–µ–¥—É—é—â–µ–π —Ç–µ–º–µ. –ê –ø–æ–∫–∞ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–µ, –≤ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–µ —Å—Ç—Ä–æ–∫–∏.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ throw –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ main. –≠—Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç –∞–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –¥–∞—Å—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –¥–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –ü–æ –∏–¥–µ–µ, throw –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–∂–µ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª, –∑–Ω–∞—á–∏—Ç, –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –Ω–µ –º–æ–∂–µ—Ç.
–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ–∫–∞–ª—å–Ω–æ. –†—è–¥–æ–º —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º —Ñ–∞–π–ª–æ–º –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª ballad.txt. –í–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞ –∑–∞–ø—É—Å–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ —Ñ–∞–π–ª–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∏ —Å—Ç—Ä–æ—á–∫–∏. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω. –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞ –¥–∏—Å–∫ 10 —Ä–∞–∑ –ø–æ –æ–¥–Ω–æ–º—É —Å–∏–º–≤–æ–ª—É ‚Äî –Ω–∞–º–Ω–æ–≥–æ –¥–æ–ª—å—à–µ, —á–µ–º –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞–ø–∏—Å–∞—Ç—å 10 —Å–∏–º–≤–æ–ª–æ–≤. –ü–æ—ç—Ç–æ–º—É –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–π –≤ –ø–æ—Ç–æ–∫ —Ç–µ–∫—Å—Ç –≤–º–µ—Å—Ç–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø–æ –º–µ—Ä–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ª–∏–±–æ –≤ —Å–ª—É—á–∞–µ —è–≤–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã flush. –¢–∞–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π, –∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—É—Ñ–µ—Ä–æ–º.
–ü—Ä–æ–≤–µ—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ. –ï—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ —Å 10 –¥–æ 10000, —Ç–æ –±—É—Ñ–µ—Ä–∞ —Ç–æ—á–Ω–æ –Ω–µ —Ö–≤–∞—Ç–∏—Ç, –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤—Å—ë-—Ç–∞–∫–∏ –ø–æ–ø–∞–¥—ë—Ç –≤ —Ñ–∞–π–ª:
0001 –° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å
0002 –° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å
...
9924 –° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å
9925 –° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å
–†–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –∑–Ω–∞—á–∏—Ç, –≥–∏–ø–æ—Ç–µ–∑–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å –≤–µ—Ä–Ω–∞: –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –º–æ–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã–µ —Å–±—Ä–æ—Å–∏–ª–∏—Å—å –≤ —Ñ–∞–π–ª, –Ω–æ —á–∞—Å—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–∫–∞–∑–∞–ª–∞—Å—å –Ω–µ–∑–∞–ø–∏—Å–∞–Ω–Ω–æ–π. –ê —Ç–µ–ø–µ—Ä—å –∑–∞–º–µ–Ω–∏–º \n –Ω–∞ endl:
#include <fstream>
#include <string>

using namespace std;

int main() {
    ofstream out_file("ballad.txt"s);
    for (int i = 0; i < 10; ++i) {
        out_file << "–° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å"s << endl;
    }

    throw;
}
–í—É–∞–ª—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∞–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ 10 —Å—Ç—Ä–æ–∫ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ —Ñ–∞–π–ª. –ù–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ endl –ø–æ–≤–ª–∏—è–ª –Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.
–ü—Ä–∏–º–µ–Ω–∏—Ç–µ LOG_DURATION –∏ –∏–∑–º–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª 50 000 —Å—Ç—Ä–æ–∫: –æ—Ç–¥–µ–ª—å–Ω–æ —Å \n –∏ —Å endl. –ö–∞–∫–æ–π —Å–ø–æ—Å–æ–± —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ? –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Release.
–° \n —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.
–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –≤–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø–µ—Ä–µ–≤–æ–∑–∏—Ç—å —É–≥–æ–ª—å –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤ –¥—Ä—É–≥–æ–µ. –£–≥–æ–ª—å –ø–æ—Å—Ç—É–ø–∞–µ—Ç —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ä—Ü–∏—è–º–∏ ‚Äî –±—ã–≤–∞–µ—Ç –∏ –æ–¥–∏–Ω —É–≥–æ–ª—ë–∫, –∏ —Ü–µ–ª–∞—è —Ç–æ–Ω–Ω–∞ –∑–∞ —Ä–∞–∑. –ü—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∫–∞–∂–¥–æ–π –ø–æ—Ä—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –æ–ø–ª–æ–º–±–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–∑, –≤—ã–∑–≤–∞—Ç—å –ª–æ–∫–æ–º–æ—Ç–∏–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∞–≥–æ–Ω, –∞ –º–æ–∂–µ—Ç–µ –ø–æ–¥–æ–∂–¥–∞—Ç—å, –ø–æ–∫–∞ –æ–Ω –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å. –í—ã–∑–æ–≤ –ª–æ–∫–æ–º–æ—Ç–∏–≤–∞ —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏, –∏ –µ—Å–ª–∏ –¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å—Ä–∞–∑—É, –ø–µ—Ä–µ–≤–æ–∑–∫–∞ —É–≥–ª—è –º–æ–∂–µ—Ç –∑–∞—Ç—è–Ω—É—Ç—å—Å—è. –í –∏—Ç–æ–≥–µ –≤—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ 100 —Å–æ—Å—Ç–∞–≤–æ–≤, –ø–µ—Ä–µ–≤–æ–∑—è—â–∏—Ö –ø–æ –æ–¥–Ω–æ–º—É —É–≥–æ–ª—å–∫—É: 100 —Ä–∞–∑ –ø–æ—Ç—Ä–∞—Ç–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –ø–ª–æ–º–±–∏—Ä–æ–≤–∫—É, –ø—Ä–∏—Ü–µ–ø–∫—É –≤–∞–≥–æ–Ω–∞, —Ö–æ—Ç—è –º–æ–≥–ª–∏ –±—ã –ø–æ–¥–æ–∂–¥–∞—Ç—å, –ø–æ–∫–∞ –≤–∞–≥–æ–Ω –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è, –∏ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. –ü–æ—Ç–æ–∫–∏ –≤ C++ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∂–¥—É—Ç, –ø–æ–∫–∞ –±—É—Ñ–µ—Ä ‚Äî —Ç–æ –µ—Å—Ç—å –≤–∞–≥–æ–Ω ‚Äî –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–∞–∑—É –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö.
–°–±—Ä–∞—Å—ã–≤–∞—Ç—å –±—É—Ñ–µ—Ä –º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏, –Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ –ø–æ –∂–µ–ª–∞–Ω–∏—é. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä std::flush –∏ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Ç–æ–∫–∞ flush:
#include <fstream>
#include <string>

using namespace std;

int main() {
    ofstream out_file("ballad.txt"s);
    for (int i = 0; i < 10; ++i) {
        // —Ç–∞–∫–æ–π –∂–µ —ç—Ñ—Ñ–µ–∫—Ç, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ endl
        out_file << "–° –ª—é–±–∏–º—ã–º–∏ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å\n"s << flush;
    }

    throw;
}
–ö–∞–∫ –≤–∏–¥–∏–º, endl ‚Äî —ç—Ç–æ –≤—ã–≤–æ–¥ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏ —Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–±—Ä–æ—Å–æ–º –±—É—Ñ–µ—Ä–∞. –û–¥–Ω–∞–∫–æ –∑–∞ –≤—Å—ë –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å: —Å–±—Ä–æ—Å –±—É—Ñ–µ—Ä–∞ —Å–Ω–∏–∂–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã. –õ—É—á—à–µ –∏–∑–±–µ–≥–∞—Ç—å –µ–≥–æ, –∫–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—ã–≤–æ–¥–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –Ω–æ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ endl –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ –∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∫–µ, –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∏—Å–∫, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø–∞–¥—ë—Ç –∏ –Ω–µ —É—Å–ø–µ–µ—Ç –≤—ã–¥–∞—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –í –æ—Å—Ç–∞–ª—å–Ω–æ–º endl –∏ \n —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ ‚Äî –≤–∞—à–∞ –∑–∞–¥–∞—á–∞ –Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ —É–¥–æ–±—Å—Ç–≤–æ–º.
–°–≤—è–∑—å –ø–æ—Ç–æ–∫–æ–≤: –≤ –ø–æ–∏—Å–∫–∞—Ö –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞
–í –ø—Ä–æ—à–ª–æ–º —É—Ä–æ–∫–µ —Ä–µ—á—å —à–ª–∞ –æ —Ç–æ–º, —á—Ç–æ –∑–∞–º–µ–Ω–∞ endl –Ω–∞ \n —É–ª—É—á—à–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –†–∞–∑–±–µ—Ä—ë–º—Å—è, –≤—Å–µ–≥–¥–∞ –ª–∏ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –≤ –∫–≤–∞–¥—Ä–∞—Ç —á–∏—Å–µ–ª, –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞:
#include <iostream>
#include <string>
#include "log_duration.h"
using namespace std;
// main —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏,
// –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é argc,
// –∞ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –≤ argv.
// –¢–∏–ø const char** –±—É–¥–µ—Ç –æ–±—Å—É–∂–¥–∞—Ç—å—Å—è –ø–æ–∑–∂–µ –≤ –∫—É—Ä—Å–µ, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –º–æ–∂–Ω–æ
// –æ—Ç—á–∞—Å—Ç–∏ –∫–∞–∫ —Å –≤–µ–∫—Ç–æ—Ä–æ–º: argv[0] ‚Äî –Ω—É–ª–µ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç, argv[1] ‚Äî –ø–µ—Ä–≤—ã–π. 
// argv[i] –º–æ–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ string
int main(int argc, const char** argv) {
    // –ù—É–ª–µ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –∏–º—è –ø—Ä–æ–≥—Ä–∞–º–º—ã,
    // –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω—É–∂–µ–Ω –ø–µ—Ä–≤—ã–π
    int arg = stoi(argv[1]);

    if (arg == 1) {
        LOG_DURATION("endl"s);
        int i;
        while (cin >> i) {
            cout << i * i << endl;
        }
    }

    if (arg == 2) {
        // –ß—Ç–æ–±—ã "\n" –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–ª–æ—Å—å –Ω–µ –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏, –∞ –∫–∞–∫ 
        // —Å–ª—ç—à –∏ –±—É–∫–≤–∞ 'n', –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–¥ –Ω–∏–º –µ—â—ë –æ–¥–∏–Ω —Å–ª–µ—à:
        // –¥–≤–∞ —Å–ª–µ—à–∞ –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–º (–∏ —Å–∏–º–≤–æ–ª—å–Ω–æ–º) –ª–∏—Ç–µ—Ä–∞–ª–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è
        // –∫–∞–∫ –æ–¥–∏–Ω (\) 
        LOG_DURATION("\\n"s);
        int i;
        while (cin >> i) {
            cout << i * i << "\n"s;
        }
    }
}
–≠—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω —á–∏—Å–ª–æ–≤–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç: –µ–¥–∏–Ω–∏—Ü—É –∏–ª–∏ –¥–≤–æ–π–∫—É. –û–Ω–∞ —á–∏—Ç–∞–µ—Ç —á–∏—Å–ª–∞ –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –≤—ã–¥–∞—ë—Ç –∏—Ö –∫–≤–∞–¥—Ä–∞—Ç—ã –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥, –∑–∞–º–µ—Ä—è—è –≤—Ä–µ–º—è. –ü—Ä–∏—á—ë–º –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ ‚Äî \n –∏–ª–∏ endl ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ –Ω–∞–∑–æ–≤—ë–º –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª sqnums. –ó–∞–ø—É—Å—Ç–∏–º –µ—ë —Ç–∞–∫:
$ sqnums 1
–û–Ω–∞ –±—É–¥–µ—Ç —Ä–∞–¥–æ—Å—Ç–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—å –∫–≤–∞–¥—Ä–∞—Ç—ã –≤—Å–µ—Ö –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö —á–∏—Å–µ–ª –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤—ã –Ω–µ –≤–≤–µ–¥–µ—Ç–µ —Å–∏–º–≤–æ–ª –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞. –ó–∞—Ç–µ–º –≤—ã–≤–µ–¥–µ—Ç –æ–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∏ –ø—Ä–∏ —ç—Ç–æ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å endl. –ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –∏–Ω–∞—á–µ:
$ sqnums 2
–¢—É—Ç –≤–º–µ—Å—Ç–æ endl –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ–π \n.
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–æ–∑—å–º—ë–º —Ñ–∞–π–ª numbers.txt, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç 50000 —á–∏—Å–µ–ª –æ—Ç 0 –¥–æ 99.
üîó numbers.txt
–ó–∞–ø—É—Å–∫–∞—Ç—å –±—É–¥–µ–º, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ –∏ –≤—ã–≤–æ–¥:
$ sqnums 1 >numbers2.txt <numbers.txt
–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–∞–º–∏ > –∏ < –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫–∏ cin –∏ cout —Å —Ñ–∞–π–ª–∞–º–∏. –¢–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ –ø–æ—Ç–æ–∫ cin –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ numbers.txt. –ë–ª–∞–≥–æ–¥–∞—Ä—è > –¥–∞–Ω–Ω—ã–µ –∏–∑ cout –ø–æ–π–¥—É—Ç –≤ —Ñ–∞–π–ª numbers2.txt, –∞ –Ω–µ –≤ –æ–∫–Ω–æ –∫–æ–Ω—Å–æ–ª–∏. –ï—Å–ª–∏ —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å \n, –º–µ–Ω—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä 1 –Ω–∞ 2:
$ sqnums 2 >numbers2.txt <numbers.txt
–°–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
$ sqnums 1 >numbers2.txt <numbers.txt
endl: 410 ms
$ sqnums 2 >numbers2.txt <numbers.txt
\n: 408 ms
üìñ  –í –∫–æ–º–∞–Ω–¥–µ sqnums 2 >numbers2.txt <numbers.txt –ø—Ä–æ–±–µ–ª –º–µ–∂–¥—É 2 –∏ > –≤–∞–∂–µ–Ω: –±–µ–∑ –Ω–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 2>, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ cerr.
–ù–µ —Å—Ç–æ–ª—å –≤–ø–µ—á–∞—Ç–ª—è—é—â–µ. –†–∞–Ω—å—à–µ –º—ã –Ω–∞–±–ª—é–¥–∞–ª–∏ —á—É—Ç—å –Ω–µ –¥–µ—Å—è—Ç–∏–∫—Ä–∞—Ç–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ, –∞ —Ç–µ–ø–µ—Ä—å –æ–Ω–æ –µ–¥–≤–∞ –∑–∞–º–µ—Ç–Ω–æ. –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É —ç—Ç–æ–≥–æ, –æ–±—Ä–∞—Ç–∏–º—Å—è –∫ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ:
#include <iostream>
using namespace std;
int main() {
    cout << "Enter x and y: "s;
    cin >> x >> y;
    cout << x + y << endl;
}
–ü–æ—á–µ–º—É –º—ã –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º –Ω–∞–¥–ø–∏—Å—å Enter x and y: –ø–µ—Ä–µ–¥ –≤–≤–æ–¥–æ–º?
–û—á–µ–≤–∏–¥–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã–≤–æ–¥–∏–º –µ—ë –≤ cout –ø–µ—Ä–µ–¥ –≤–≤–æ–¥–æ–º.
–ö–∞–∫ –ø–æ–∫–∞–∑–∞–ª –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–∫, –µ—Å–ª–∏ –º—ã —á—Ç–æ-—Ç–æ –≤—ã–≤–µ–ª–∏ –≤ –ø–æ—Ç–æ–∫, —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ–Ω–æ —Ç–∞–º –æ–∫–∞–∂–µ—Ç—Å—è —Å—Ä–∞–∑—É –∂–µ.
–°–æ–≤—Å–µ–º –Ω–µ –æ—á–µ–≤–∏–¥–Ω–æ, –Ω–æ —á—Ç–µ–Ω–∏–µ –∏–∑ cin –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –±—É—Ñ–µ—Ä cout –∏ cerr –æ–ø—É—Å—Ç–æ—à–∞—Ç—å—Å—è, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –º—ã –¥–æ–±–∞–≤–∏–ª–∏ cout.flush() –ø–µ—Ä–µ–¥ –Ω–∏–º. –í —ç—Ç–æ–º –ø—Ä–∏—á–∏–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å \n. –ö —Å—á–∞—Å—Ç—å—é, –µ—Å—Ç—å —Å–ø–æ—Å–æ–± –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –æ—Ç–≤—è–∑–∞–≤ cin –æ—Ç cout —Ç–∞–∫: cin.tie(nullptr);.
–î–æ–ø–æ–ª–Ω–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –µ—â–µ –æ–¥–Ω–æ–π –≤–µ—Ç–∫–æ–π –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å:
#include <iostream>
#include <string>

#include "log_duration.h"

using namespace std;

int main(int argc, const char** argv) {
    // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º, —á—Ç–æ –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã,
    // –ø–æ—ç—Ç–æ–º—É argc –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º 2
    if (argc < 2) {
        cerr << "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–¥–∞–π—Ç–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º 1 –∞—Ä–≥—É–º–µ–Ω—Ç"s << endl;
        return 1;
    }

    int arg = std::stoi(argv[1]);

    if (arg == 1) {
        LOG_DURATION("endl"s);
        int i;
        while (cin >> i) {
            cout << i * i << endl;
        }
    }

    if (arg == 2) {
        LOG_DURATION("\\n"s);
        int i;
        while (cin >> i) {
            cout << i * i << "\n"s;
        }
    }

    if (arg == 3) {
        LOG_DURATION("\\n with tie"s);
        cin.tie(nullptr);
        int i;
        while (cin >> i) {
            cout << i * i << "\n"s;
        }
    }
}
–ó–∞–ø—É—Å–∫–∞–µ–º:
$ test-stream.exe 3 <numbers.txt >numbers2.txt
\n with tie: 89 ms
–°–æ–≤—Å–µ–º –¥—Ä—É–≥–æ–µ –¥–µ–ª–æ! –û–¥–Ω–∞–∫–æ –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç–≤—è–∑—ã–≤–∞–Ω–∏–µ cin –æ—Ç cout –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å—ë –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ï—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã, —ç—Ç–æ –Ω–µ —Ç–∞–∫ –≤–∞–∂–Ω–æ. –ù–æ –µ—Å–ª–∏ –ø–æ–¥–æ–±–Ω–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö, —Ç–∞–∫–æ–π –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –∫—Ä–∞–π–Ω–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª–µ–Ω. –ò–∑–±–µ–∂–∞—Ç—å –µ–≥–æ –ø—Ä–æ—Å—Ç–æ ‚Äî –≤ –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–≤—è–∂–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ:
...
if (arg == 3) {
    LOG_DURATION("\\n with tie"s);
    auto tied_before = cin.tie(nullptr);

    int i;
    while (cin >> i) {
        cout << i * i << "\n"s;
    }

    cin.tie(tied_before);
}
...
–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π –∫–ª–∞—Å—Å —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞—Ä–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –í –ø—Ä–æ—à–ª–æ–π —Ç–µ–º–µ –≤—ã —Ç–∞–∫ –∏–∑–º–µ—Ä—è–ª–∏ –≤—Ä–µ–º—è.
–í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã —É–±–µ–¥–∏–ª–∏—Å—å: –∑–∞–º–µ–Ω–∞ endl –Ω–∞ \n —Å–µ—Ä—å—ë–∑–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤, –µ—Å–ª–∏ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ–µ –º–µ—Å—Ç–æ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–ï—â–µ —Å–∏–ª—å–Ω–µ–µ —É—Å–∫–æ—Ä–∏—Ç—å –≤–≤–æ–¥ –∏ –≤—ã–≤–æ–¥ –≤ cin –∏ cout –º–æ–∂–µ—Ç –º–∞–≥–∏—á–µ—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ ios_base::sync_with_stdio(false), —Å –∫–æ—Ç–æ—Ä–æ–π —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–∫–æ–º—ã —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë —Å–ª–µ–¥—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–ø–æ—Å–æ–±–Ω–∞ –ø–æ–º–µ—à–∞—Ç—å —Ä–∞–±–æ—Ç–µ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, –≤—ã–≤–æ–¥—è—â–∏—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥.
–ö–æ–º–∞–Ω–¥–∞ sync_with_stdio –æ—Ç–∫–ª—é—á–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ C –∏ C++, –∞ —Ç–∞–∫–∂–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω—è—è —Ä–µ—Å—É—Ä—Å—ã.
–ù–µ –ø—É—Ç–∞–π—Ç–µ –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ stream –∏ –ø–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è thread:
–ü–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ stream –ø–µ—Ä–µ–¥–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º source –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–º sink.
–ü–æ—Ç–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è thread –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ. –û–Ω–∏ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞ —Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –¢–µ—Ä–º–∏–Ω—ã ¬´–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π¬ª, ¬´–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π¬ª –≤—Å–µ–≥–¥–∞ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –ø–æ—Ç–æ–∫–∞–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–¢–∞–∫–∏–µ —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
–ö–æ–º–ø—å—é—Ç–µ—Ä—ã, —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —Å–ø–æ—Å–æ–±–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ç—Ä—É–¥–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –±–µ–∑ –≤–∞–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –Ω–æ—Å–∏—Ç–µ–ª—è, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ –∂–µ—Å—Ç–∫–∏–π –∏–ª–∏ —Ç–≤–µ—Ä–¥–æ—Ç–µ–ª—å–Ω—ã–π –¥–∏—Å–∫. –£ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏, —Ä–∞–∑–º–µ—â–∞–µ–º–æ–π –Ω–∞ —ç—Ç–æ–º –Ω–æ—Å–∏—Ç–µ–ª–µ, –µ—Å—Ç—å —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏. –ì–ª–∞–≤–Ω–∞—è –∏–∑ –Ω–∏—Ö ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ. –í —ç—Ç–æ–π —Ç–µ–º–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –ù–∞—á–Ω–µ–º —Å —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤. –ù–æ –ø—Ä–µ–∂–¥–µ –≤—Å–ø–æ–º–Ω–∏–º, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏.
–£ –ø–æ—Ç–æ–∫–∞ –¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã: –æ–¥–Ω–∞ –ø–æ—Å—ã–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –¥—Ä—É–≥–∞—è –ø–æ–ª—É—á–∞–µ—Ç. –û–¥–Ω–∞ –∏–∑ —ç—Ç–∏—Ö —Å—Ç–æ—Ä–æ–Ω ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –º–µ—Ç–æ–¥ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ó–∞–¥–∞—á–∞ –¥—Ä—É–≥–æ–π ‚Äî –≤—ã–¥–∞—Ç—å –∏–ª–∏ –ø—Ä–∏–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ü–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ ‚Äî –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –≠—Ç–∏ —Å—Ç–æ—Ä–æ–Ω—ã –º–æ–≥—É—Ç –Ω–µ –∑–Ω–∞—Ç—å –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∏—á–µ–≥–æ: –æ–¥–Ω–∞ –ø–æ—Å—ã–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ç–æ–∫, –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—è, –∫—É–¥–∞ –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç, –¥—Ä—É–≥–∞—è ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –Ω–µ –∏–º–µ—è –ø–æ–Ω—è—Ç–∏—è –æ —Ç–æ–º, –æ—Ç–∫—É–¥–∞ –æ–Ω–∏ –ø—Ä–∏—à–ª–∏.
–ü–æ–º–∏–º–æ –ø–æ—Ç–æ–∫–æ–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø–∞–º—è—Ç—å—é: istringstream –∏ ostringstream. –ü–æ—Ç–æ–∫–∏ cin –∏ cout —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –æ–¥–Ω–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ. –ê —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–ü–æ—Ç–æ–∫ –≤–≤–æ–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–æ–π –Ω–∞ istream&. –ê–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ. –ö –ø–æ—Ç–æ–∫–∞–º –≤–≤–æ–¥–∞ –æ—Ç–Ω–æ—Å—è—Ç—Å—è cin –∏ istringstream –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <sstream>.
–ü–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ ostream&. –ê–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–µ–≥–æ. –≠—Ç–æ—Ç –ø–æ—Ç–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É—Å–∫–æ—Ä—è—é—â–µ–µ –µ–≥–æ —Ä–∞–±–æ—Ç—É. –ö –ø–æ—Ç–æ–∫–∞–º –≤—ã–≤–æ–¥–∞ –æ—Ç–Ω–æ—Å—è—Ç—Å—è ostringstream –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <sstream> –∏ –∑–Ω–∞–∫–æ–º—ã–π –≤–∞–º cout –∏–∑ <iostream>.
–ü–æ–º–∏–º–æ —ç—Ç–∏—Ö –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–∞–∫–∂–µ —Ç–∏–ø iostream. –°—Å—ã–ª–∫–æ–π —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ç–æ–∫, –¥–æ–ø—É—Å–∫–∞—é—â–∏–π –∫–∞–∫ —á—Ç–µ–Ω–∏–µ, —Ç–∞–∫ –∏ –∑–∞–ø–∏—Å—å. –ü—Ä–∏–º–µ—Ä–æ–º —Å–ª—É–∂–∏—Ç stringstream.
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ <fstream>:
–ø–æ—Ç–æ–∫ –≤–≤–æ–¥–∞ ifstream –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞,
–ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ ofstream –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª,
–ø–æ—Ç–æ–∫ fstream –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –æ–±–µ–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Ç–æ–∫–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞:
#include <fstream>
#include <iostream>
#include <string>

using namespace std;

int main() {
    {
        ifstream in_file("test.txt"s);
        int x; 
        if (in_file >> x) {
            cout << "–ò–∑ —Ñ–∞–π–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ —á–∏—Å–ª–æ "s << x << endl;
        }
    }

    {
        ofstream out_file("test.txt"s);
        out_file << 100 << 500 << endl;
    }
}
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —ç—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ –Ω–∏—á–µ–≥–æ ‚Äî —Ñ–∞–π–ª–∞ —Å –∏–º–µ–Ω–µ–º test.txt –Ω–µ—Ç –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ –Ω–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –í—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –∑–∞–ø–∏—à–µ—Ç –≤ –Ω–µ–≥–æ –¥–≤–∞ —á–∏—Å–ª–∞ ‚Äî ofstream –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç. –ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ ofstream –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫–∏ ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω—ã–º —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ñ–∞–π–ª–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ –Ω–µ–π —É –ø—Ä–æ–≥—Ä–∞–º–º—ã –µ—Å—Ç—å –ø—Ä–∞–≤–∞.
–ï—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ, –ø–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ–∫—Å—Ç:
–ò–∑ —Ñ–∞–π–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ —á–∏—Å–ª–æ 100500
–î–≤–∞ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —á–∏—Å–ª–∞ —Å–∫–ª–µ–∏–ª–∏—Å—å –≤ –æ–¥–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –Ω–µ –≤—ã–≤–µ–ª–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –Ω–∏–∫–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è ‚Äî –ø—Ä–æ–±–µ–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏. –¢–∞–∫ –ø—Ä–æ–∏–∑–æ—à–ª–æ –±—ã –∏ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –≤ cout.
–ü–æ—Å–ª–µ —Ç—Ä–µ—Ç—å–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è ‚Äî ofstream –æ—á–∏—â–∞–µ—Ç —Ñ–∞–π–ª, –µ—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞. –°–ª–µ–¥—É–µ—Ç –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º–∏ –∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ ofstream —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
–ü–æ—Å–∫–æ–ª—å–∫—É —É–∫–∞–∑–∞–Ω–æ —Ç–æ–ª—å–∫–æ –∏–º—è —Ñ–∞–π–ª–∞ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø—É—Ç–∏, —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ‚Äî –ø–∞–ø–∫–µ, –∑–∞–¥–∞–≤–∞–µ–º–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å—Ç–∏–ª –ø—Ä–æ–≥—Ä–∞–º–º—É. –ï—Å–ª–∏ –æ–Ω–∞ –≤—ã–∑–≤–∞–Ω–∞ –∏–∑ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞, —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –ø–∞–ø–∫–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ï—Å–ª–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏, —Ç–æ –∞–∫—Ç–∏–≤–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –≤ –∫–æ–Ω—Å–æ–ª–∏. –í C++ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –û–± —ç—Ç–æ–º ‚Äî –≤ –∫–æ–Ω—Ü–µ —Ç–µ–º—ã.
–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Ñ–∞–π–ª—É "dir/a.txt" –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ –¥–æ –Ω–µ–≥–æ, –±—É–¥–µ—Ç –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ dir —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ IDE —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞–¥–∞—ë—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞. –ß–∞—Å—Ç–æ —Ç–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–∞–ø–∫–æ–π –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–æ —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ –≤—Å–µ–≥–¥–∞.
–û–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–æ–≤ fstream, ifstream, ofstream –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Å –ø—É—Å—Ç—ã–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥ open, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–∞–∫–∏–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–∫ –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª —Ç–µ–º –∂–µ –ø–æ—Ç–æ–∫–æ–º, –≤—ã–∑–≤–∞–≤ open –ø–æ–≤—Ç–æ—Ä–Ω–æ. –ü–µ—Ä–µ–¥ —ç—Ç–∏–º –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –º–µ—Ç–æ–¥–æ–º close, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ü–æ–∫–∞ —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã—Ç –∫–∞–∫–∏–º-–ª–∏–±–æ –ø–æ—Ç–æ–∫–æ–º, –æ–Ω –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –∑–∞ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–º –ø—Ä–æ–≥—Ä–∞–º–º–∞–º —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä —É–¥–∞–ª—è—Ç—å –µ–≥–æ. –ù–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å close –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã —Å–Ω—è—Ç—å —Ä–µ–∑–µ—Ä–≤. –í C++ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –ø–æ—Ç–æ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –Ω–µ –±–æ—è—Ç—å—Å—è, —á—Ç–æ –∑–∞–±—É–¥–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏ –¥–æ–ø—É—Å—Ç–∏—Ç–µ —É—Ç–µ—á–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤.
–ü–æ–¥–≤–µ–¥–µ–º –∏—Ç–æ–≥ —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü–µ–π, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –≤—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø–æ—Ç–æ–∫–∏:


–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥
–°—Ç—Ä–æ–∫–æ–≤—ã–π –ø–æ—Ç–æ–∫
–§–∞–π–ª–æ–≤—ã–π –ø–æ—Ç–æ–∫
–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
<iostream>
<sstream>
<fstream>
–ü–æ—Ç–æ–∫ –≤–≤–æ–¥–∞
cin
istringstream
ifstream
–ü–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞
cout, cerr
ostringstream
ofstream
–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫
‚Äî
stringstream
fstream

–û—à–∏–±–∫–∏ –∏ –∫–∞–∫ —Å –Ω–∏–º–∏ –±–æ—Ä–æ—Ç—å—Å—è
–ü–æ—Ç–æ–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ C++ —Å —Å–∞–º–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —è–∑—ã–∫–∞ –∏ –ø–æ—ç—Ç–æ–º—É –∏–º–µ—é—Ç —Å–≤–æ—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–∞—Ç—å –æ—à–∏–±–∫–∏ –ø–æ—Ç–æ–∫–∞ –∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ—Ç–æ–∫–æ–º –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏.
–í –ø–µ—Ä–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ —É—Ä–æ–∫–∞ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –≤ if —Å —É—Å–ª–æ–≤–∏–µ–º in_file >> x. –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
–ü–æ—Ç–æ–∫ istream –±—É–¥–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ true, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ. –ü–µ—Ä–µ—á–∏—Å–ª–∏–º –ø—Ä–∏—á–∏–Ω—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —á—Ç–µ–Ω–∏–µ –º–æ–≥–ª–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è.
–ù–µ—É–¥–∞—á–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏–ª–∏ –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∞—è –¥–æ —á—Ç–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª–∞ –Ω–µ—Ç –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤.
–û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Ñ–∞–π–ª –ø—Ä–∏—à—ë–ª—Å—è –±–∏—Ç—ã–π —Å–µ–∫—Ç–æ—Ä –¥–∏—Å–∫–∞, –ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–Ω—É–ª —Ñ–ª–µ—à–∫—É —Å —Ñ–∞–π–ª–æ–º –≤–æ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è.
–í –ø–æ—Ç–æ–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–µ —á–∏—Å–ª–æ.
–î–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ, –∑–Ω–∞—á–∏—Ç, —Ñ–∞–π–ª –ø—É—Å—Ç –∏–ª–∏ —Å–æ—Å—Ç–æ—è–ª –∏–∑ –ø—Ä–æ–±–µ–ª–æ–≤.
–ü–µ—Ä–≤–∞—è –∏ –≤—Ç–æ—Ä–∞—è —Å–∏—Ç—É–∞—Ü–∏–∏ ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å –ø–æ—Ç–æ–∫–æ–º —É–∂–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å.
–¢—Ä–µ—Ç—å—è —Å–∏—Ç—É–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥–æ–µ —á—Ç–µ–Ω–∏–µ. –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏—Ç—É–∞—Ü–∏—è ‚Äî —à—Ç–∞—Ç–Ω–∞—è.
–ß—Ç–æ–±—ã —Ä–∞–∑–ª–∏—á–∏—Ç—å –ø—Ä–∏—á–∏–Ω—ã –Ω–µ—É–¥–∞–≤—à–µ–≥–æ—Å—è —á—Ç–µ–Ω–∏—è –≤ –ø–æ—Ç–æ–∫–µ, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Ç—Ä–∏ —Ñ–ª–∞–≥–∞:
badbit ‚Äî –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É,
failbit ‚Äî –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É,
eofbit ‚Äî –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞. –ü—Ä–∏ —ç—Ç–æ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞ –Ω–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è –±—ã–ª–∞ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π. –ù–æ –æ–Ω –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–ª–µ–¥—É—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è —Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –Ω–µ—É—Å–ø–µ—à–Ω–æ–π.
–ß–∏—Ç–∞—Ç—å –∏ –∑–∞–¥–∞–≤–∞—Ç—å —Ñ–ª–∞–≥–∏ –º–æ–∂–Ω–æ —Å–µ—Ç—Ç–µ—Ä–æ–º clear –∏ –≥–µ—Ç—Ç–µ—Ä–∞–º–∏. –ü–æ—á–∏—Ç–∞–π—Ç–µ –æ –Ω–∏—Ö –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –±–∞–∑–æ–≤–æ–º—É –∫–ª–∞—Å—Å—É –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤ –≤–≤–æ–¥–∞ –∏ –≤—ã–≤–æ–¥–∞ std::basic_ios.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∞–∫—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É:
int main(int argc, const char** argv) {
    // –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø–µ—Ä–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    ifstream input(argv[1]);

    while (input) {
        int times;
        string action;

        if (input >> times >> action) {
            for (int i = 0; i < times; ++i) {
                cout << action << "! "s;
            }
            cout << endl;
        } else {
            string action2;
            if (input >> action2) {
                cout << action2 << "!"s << endl;
            }
        }
    }
}
–ü–æ –∑–∞–¥—É–º–∫–µ —Ç–∞–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–≤—É—Ö –≤–∏–¥–æ–≤:
–ß–∏—Å–ª–æ, –¥–µ–π—Å—Ç–≤–∏–µ.
–î–µ–π—Å—Ç–≤–∏–µ.
–ü–æ–¥–∞–¥–∏–º –Ω–∞ –≤—Ö–æ–¥ —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∞–π–ª:
3 clap
3 jump
turn
3 stomp
–í—Å—ë –ø—Ä–æ—Å—Ç–æ: —Ç—Ä–∏–∂–¥—ã —Ö–ª–æ–ø–Ω—É—Ç—å, —Ç—Ä–∏–∂–¥—ã –ø–æ–¥–ø—Ä—ã–≥–Ω—É—Ç—å, –ø–æ–≤–µ—Ä–Ω—É—Ç—å—Å—è –∏ —Ç—Ä–∏ —Ä–∞–∑–∞ —Ç–æ–ø–Ω—É—Ç—å. –ó–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ —É–≤–∏–¥–∏–º —Ç–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
clap! clap! clap!
jump! jump! jump!
–ù–∞ –ø—Ä—ã–∂–∫–∞—Ö –≤—Å—ë –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–∏ —á—Ç–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è. –°–∫–æ–ª—å–∫–æ –±—ã –≤—ã –Ω–∏ –ø—ã—Ç–∞–ª–∏—Å—å —á–∏—Ç–∞—Ç—å –∏–∑ –ø–æ—Ç–æ–∫–∞, –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –Ω–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –µ—Å–ª–∏ –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥ failbit –∏–ª–∏ badbit.
–ï—Å–ª–∏ –±—ã —á—Ç–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏, —É—Å–ª–æ–≤–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ if (input >> times >> action) –±—ã–ª–æ –±—ã –∏—Å—Ç–∏–Ω–Ω—ã–º, –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –±—ã –≤—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ. –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π times –æ–∫–∞–∑–∞–ª–æ—Å—å –±—ã –Ω–µ –∑–∞–¥–∞–Ω–Ω—ã–º, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é.

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ —Ñ–∞—Ç–∞–ª—å–Ω–∞—è, –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –µ—â—ë –ø—Ä–∏–≥–æ–¥–∏—Ç—å—Å—è. –ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–ø—ã—Ç–∫–∏ —á—Ç–µ–Ω–∏—è –∏ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é >> —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω—É–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥–∏ –≤—Ä—É—á–Ω—É—é –º–µ—Ç–æ–¥–æ–º clear.
–ú–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É, –¥–æ–±–∞–≤–∏–≤ —Å–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π —á—Ç–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–π –∫–æ–º–∞–Ω–¥—ã:
int main(int argc, const char** argv) {
    // –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø–µ—Ä–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    ifstream input(argv[1]);

    while (input) {
        int times;
        string action;

        if (input >> times >> action) {
            for (int i = 0; i < times; ++i) {
                cout << action << "! "s;
            }
            cout << endl;
        } else {
            string action2;

            // —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥–∏ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º —á—Ç–µ–Ω–∏–µ–º:
            input.clear();
            if (input >> action2) {
                cout << action2 << "!"s << endl;
            }
        }
    }
}
–†–∞–±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∞—Å—å, –≤—ã–≤–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π:
clap! clap! clap!
jump! jump! jump!
turn!
stomp! stomp! stomp!
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ç–æ–∫–∏ –Ω–µ –∫–∏–¥–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π. –û–¥–Ω–∞–∫–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ—Ç–æ–∫ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–ª–∞–≥–∞ failbit –∏–ª–∏ badbit. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ—Ç–æ–∫ –≤ —Ä–µ–∂–∏–º –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –ø–æ–∑–≤–æ–ª–∏—Ç –º–µ—Ç–æ–¥ exceptions. –í —ç—Ç–æ–º –∫—É—Ä—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è. –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ –º–µ—Ç–æ–¥–µ exception –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
–ü–æ—Ç–æ–∫ –∏–∑ —É—Å–ª–æ–≤–∏—è —Ü–∏–∫–ª–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∫ bool. –ü—Ä–∏ —ç—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏–µ false –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å—Å—è, –µ—Å–ª–∏ —É –ø–æ—Ç–æ–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ñ–ª–∞–≥ –æ—à–∏–±–∫–∏: failbit –∏–ª–∏ badbit. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å:
–û–¥–Ω–æ–π –ª–∏—à–Ω–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å, –µ—Å–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –Ω–∞ input.good(). –ú–µ—Ç–æ–¥ good –ø–æ—Ç–æ–∫–∞ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å false —Ç–∞–∫–∂–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ñ–ª–∞–≥–∞ eofbit, –∞ –∑–Ω–∞—á–∏—Ç, –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–µ –≥–æ–Ω—è—Ç—å —Ü–∏–∫–ª, –∫–æ–≥–¥–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è —Ç–æ—á–Ω–æ –±—É–¥—É—Ç –Ω–µ—É—Å–ø–µ—à–Ω—ã.
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –¥–∞–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ good –Ω–µ –¥–∞—Å—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —á—Ç–µ–Ω–∏–π. –í –ø–æ—Ç–æ–∫–µ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –ø—Ä–æ–±–µ–ª –∏–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏, –∏, —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞, —ç—Ç–æ –µ—â—ë –Ω–µ –∫–æ–Ω–µ—Ü. –û–¥–Ω–∞–∫–æ good –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ —Å–µ–º–∞–Ω—Ç–∏–∫–µ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ:
–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –∫ bool —É–º–µ—Å—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–æ—à–ª–æ –ª–∏ –æ–Ω–æ —É—Å–ø–µ—à–Ω–æ;
–º–µ—Ç–æ–¥ good —É–º–µ—Å—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø–µ—Ä–µ–¥ —á—Ç–µ–Ω–∏–µ–º, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —á—Ç–µ–Ω–∏—è —à–∞–Ω—Å—ã.
–¢–æ–Ω–∫–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤
–í—ã —É–∑–Ω–∞–ª–∏ –æ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞ ‚Äî —á–µ—Ä–µ–∑ ifstream –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —á–µ—Ä–µ–∑ ofstream –¥–ª—è –∑–∞–ø–∏—Å–∏. –û—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–ª—è —á—Ç–µ–Ω–∏—è –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–ª—è –∑–∞–ø–∏—Å–∏ ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–µ—Ä–µ–∑ ofstream –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω, –∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ‚Äî –æ—á–∏—â–µ–Ω.
–ï—Å—Ç—å —Ç–∞–∫–∂–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî fstream, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –∫–∞–∫ —á—Ç–µ–Ω–∏–µ, —Ç–∞–∫ –∏ –∑–∞–ø–∏—Å—å. fstream –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—ë, —á—Ç–æ –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å ifstream –∏ ofstream.
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏. –ò—Ö –∑–∞–¥–∞—é—Ç –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º –∏–ª–∏ –º–µ—Ç–æ–¥–æ–º open:
ios::in ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å —á—Ç–µ–Ω–∏–µ,
ios::out ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø–∏—Å—å,
ios::app ‚Äî –ø–∏—Å–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞, –¥–æ–ø–æ–ª–Ω—è—è –µ–≥–æ,
ios::ate ‚Äî –ø–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞,
ios::trunc ‚Äî —É–¥–∞–ª–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏,
ios::binary ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º. –ë—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–∞—Ö.
–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ñ–ª–∞–≥–∏ –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–µ–π |. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è fstream ‚Äî —ç—Ç–æ ios::in | ios::out. –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–ª–∞–≥–æ–≤ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Ö —Ä–∞–±–æ—Ç—ã –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ basic_filebuf.
–≠—Ç–∏ —Ñ–ª–∞–≥–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏ –¥–ª—è –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–ª—è ofstream —É–∫–∞–∂–µ—Ç–µ ios::app, –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç –Ω–µ —É–¥–∞–ª—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞, –∞ –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω–µ—Ü.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä:
#include <fstream>
#include <iostream>
#include <string>

using namespace std;

int main(int argc, const char** argv) {
    // 1
    {
        fstream fout("telefon.txt", ios::out);
        fout << "–£ –º–µ–Ω—è –∑–∞–∑–≤–æ–Ω–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω."s << endl;
        fout << "- –ö—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç?"s << endl;
    }

    // 2
    {
        fstream fout("telefon.txt", ios::in | ios::out);
        fout << "- –°–ª–æ–Ω."s << endl;
    }

    // 3
    {
        fstream fin("telefon.txt", ios::in);
        string str;
        while (getline(fin, str)) {
            cout << str << endl;
        }
    }
}
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–π–ª telefon.txt –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è —Ç—Ä–∏–∂–¥—ã. –í–Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª –±—ã–ª —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –æ—á–∏—â–µ–Ω, –≤ –Ω–µ–≥–æ –∑–∞–ø–∏—Å–∞–ª—Å—è —Ç–µ–∫—Å—Ç. –í–æ –≤—Ç–æ—Ä–æ–π —Å–µ–∫—Ü–∏–∏ –º—ã –¥–æ–ø–∏—Å–∞–ª–∏ —Ç–µ–∫—Å—Ç ¬´- –°–ª–æ–Ω.¬ª, –∞ –≤ —Ç—Ä–µ—Ç—å–µ–π –≤—ã–≤–µ–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –Ω–∞ —ç–∫—Ä–∞–Ω.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ñ–∞–π–ª –≤–æ –≤—Ç–æ—Ä–æ–π —Å–µ–∫—Ü–∏–∏ –±—ã–ª –æ—Ç–∫—Ä—ã—Ç —Å—Ä–∞–∑—É –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ —á–∏—Å–ª–µ –ø—Ä–æ—á–µ–≥–æ –Ω–µ —É–¥–∞–ª—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏: –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–µ—Å—Ç–∏ –≤ –Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è.
–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–∏–ª—Å—è —Ç–∞–∫–æ–π:
- –°–ª–æ–Ω.
–∑–∞–∑–≤–æ–Ω–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω.
- –ö—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç?
–°–ª–æ–≤–æ ¬´–°–ª–æ–Ω¬ª –∑–∞–ø–∏—Å–∞–ª–æ—Å—å –ø–æ–≤–µ—Ä—Ö —Å–ª–æ–≤ ¬´–£ –º–µ–Ω—è¬ª, –∏ –ø–æ–ª—É—á–∏–ª–∞—Å—å –±–µ—Å—Å–º—ã—Å–ª–∏—Ü–∞. –ü—Ä–æ–∏–∑–æ—à–ª–æ —ç—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –±–∞–π—Ç–æ–≤, –∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –Ω–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è, –∫–∞–∫ –≤ –º–µ—Ç–æ–¥–µ insert —É –≤–µ–∫—Ç–æ—Ä–∞, –∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞. –û—à–∏–±–∫–∞ –≤ —Ç–æ–º, —á—Ç–æ –º—ã –ø–∏—à–µ–º –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞, –∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –±—ã–ª–æ –±—ã –ø–∏—Å–∞—Ç—å –≤ –∫–æ–Ω–µ—Ü. –î–µ–ª–æ –≤–æ —Ñ–ª–∞–≥–∞—Ö  ios::in | ios::out. –ü—Ä–∏ —Ç–∞–∫–æ–º —Ä–µ–∂–∏–º–µ –æ—Ç–∫—Ä—ã—Ç–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞–≤–∏—Ç—Å—è –Ω–∞ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞, –∏ –∑–∞–ø–∏—Å—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞. –ï—Å–ª–∏ –±—ã —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è —Å —Ñ–ª–∞–≥–∞–º–∏ ios::out | ios::app, –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–ª–∏ –±—ã –≤ –∫–æ–Ω–µ—Ü, –∫–∞–∫ –∏ –Ω—É–∂–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–±–∏–Ω–∞—Ü–∏—é, –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏—Ç–µ –¥–æ–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª, –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥—è —á—Ç–µ–Ω–∏–π.
üìñ  –ß—Ç–µ–Ω–∏–µ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å, ios::in —Ç—É—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö –Ω–µ —Å—Ç–æ–∏—Ç –≤–∫–ª—é—á–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ñ–ª–∞–≥–∏ –¥–æ—Å—Ç—É–ø–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ–º–µ—à–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏—é —Ñ–∞–π–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ -wx, –µ–≥–æ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–∞–ø–∏—Å—å, –Ω–æ –Ω–µ –Ω–∞ —á—Ç–µ–Ω–∏–µ.
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, —É–∫–∞–∂–µ–º –ø–æ–∑–∏—Ü–∏—é –∑–∞–ø–∏—Å–∏ –º–µ—Ç–æ–¥–æ–º seekp. –ü–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ p, –æ—Ç —Å–ª–æ–≤–∞ put, –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –º–µ–Ω—è–µ—Ç –∏–º–µ–Ω–Ω–æ –ø–æ–∑–∏—Ü–∏—é –∑–∞–ø–∏—Å–∏. –ï—Å—Ç—å —Ç–∞–∫–∂–µ –º–µ—Ç–æ–¥, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —ç—Ç—É –ø–æ–∑–∏—Ü–∏—é ‚Äî tellp.
–ó–∞–º–µ–Ω–∏–º –≤—Ç–æ—Ä—É—é —Å–µ–∫—Ü–∏—é –Ω–∞ —Ç–∞–∫—É—é:
   // 2
    {
        fstream fout("telefon.txt", ios::in | ios::out);
        fout.seekp(72);
        fout << "- –°–ª–æ–Ω."s << endl;
        cout << "Writing at pos: "s << fout.tellp() << endl;
    }
–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∏—Å–ø—Ä–∞–≤–∏–ª–æ—Å—å. –ò –≤—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Ç–æ–∂–µ:
Writing at pos: 83
–£ –º–µ–Ω—è –∑–∞–∑–≤–æ–Ω–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω.
- –ö—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç?
- –°–ª–æ–Ω.
–í–∏–¥–Ω–æ, —á—Ç–æ –ø–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –Ω–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–∑–∏—Ü–∏—è –∑–∞–ø–∏—Å–∏ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å. –ó–¥–µ—Å—å –º—ã –ø–æ–¥—Å—Ç–∞–≤–∏–ª–∏ —è–≤–Ω–æ —á–∏—Å–ª–æ 72, –∑–∞—Ä–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–∏–≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Ñ–∞–π–ª–µ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç. –¢–∞–∫ –¥–µ–ª–∞—Ç—å –Ω–µ—É–¥–æ–±–Ω–æ, –ø–æ—ç—Ç–æ–º—É —É seekp –µ—Å—Ç—å –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π —Ç–æ—á–∫—É –æ—Ç—Å—á—ë—Ç–∞. –û–Ω –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:
ios::beg ‚Äî –æ—Ç—Å—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞,
ios::end ‚Äî –æ—Ç—Å—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞,
ios::cur ‚Äî –æ—Ç—Å—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–∞.
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ios::end –∏ ios::cur –¥–æ–ø—É—Å—Ç–∏–º–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —Å–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞ –¥–µ—Å—è—Ç—å —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞–∑–∞–¥, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å stream.seekp(-10, ios::cur). –ü–µ—Ä–µ–π—Ç–∏ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ —Å–∞–º—ã–π –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π stream.seekp(0, ios::end). –°–ª–µ–≥–∫–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Ç–µ–∫—Å—Ç, –∑–∞–º–µ–Ω–∏–≤ –≤—Ç–æ—Ä–æ–π –±–ª–æ–∫ –Ω–∞ —Ç–∞–∫–æ–π:
   // 2
    {
        fstream fout("telefon.txt", ios::in | ios::out);
        fout.seekp(-17, ios::end);
        fout << "–Ω–∞ –ª–∏–Ω–∏–∏?"s << endl << "- –°–ª–æ–Ω."s << endl;
        cout << "Writing at pos: "s << fout.tellp() << endl;
    }
–ó–∞–ø—É—Å—Ç–∏–º –∏ –ø—Ä–æ–≤–µ—Ä–∏–º –≤—ã–≤–æ–¥:
Writing at pos: 84
–£ –º–µ–Ω—è –∑–∞–∑–≤–æ–Ω–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω.
- –ö—Ç–æ –Ω–∞ –ª–∏–Ω–∏–∏?
- –°–ª–æ–Ω.
üìñ  –£–∫–∞–∑–∞–Ω–æ —á–∏—Å–ª–æ 17, –ø—Ä–µ–≤—ã—à–∞—é—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–∫–≤ –∏ —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø—Ä–æ—à–ª–∏ –Ω–∞–∑–∞–¥ –æ—Ç –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –ª–∏—Ç–µ—Ä–∞–ª—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ –∑–∞–ø–∏—Å–∞–Ω—ã –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8, –∏ –≤ –Ω–µ–π –∂–µ –æ–Ω–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —Ñ–∞–π–ª. –í —ç—Ç–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–µ –∫–∞–∂–¥–∞—è —Ä—É—Å—Å–∫–∞—è –±—É–∫–≤–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –±–∞–π—Ç–∞. –ó–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –±–∞–π—Ç, –∞ –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ ‚Äî –¥–≤–∞ –±–∞–π—Ç–∞. –í—Å–µ–≥–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è 17 –±–∞–π—Ç. –í–∏–¥ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è. –ü–æ–¥ MacOS –∏ Linux –æ–Ω –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –æ–¥–∏–Ω –±–∞–π—Ç, –ø–æ–¥ Windows ‚Äî –¥–≤–∞.
–£ –º–µ—Ç–æ–¥–æ–≤ seekp –∏ tellp –µ—Å—Ç—å –∞–Ω–∞–ª–æ–≥–∏, –ø–æ–ª—É—á–∞—é—â–∏–µ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–µ –ø–æ–∑–∏—Ü–∏—é —á—Ç–µ–Ω–∏—è. –≠—Ç–∏ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è. –û–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è seekg –∏ tellg ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ –æ—Ç —Å–ª–æ–≤–∞ get –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–µ—á—å –∏–¥—ë—Ç –æ —á—Ç–µ–Ω–∏–∏.
–ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã: —á–∏—Ç–∞–µ–º –∏ –ø–∏—à–µ–º –±–∞–π—Ç—ã
–í —Ñ–∞–π–ª–∞—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –±–∞–π—Ç—ã. –ü–æ—ç—Ç–æ–º—É –Ω–µ –≤—Å–µ–≥–¥–∞ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ >> –∏ <<, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç –∏ –ø–∏—à—É—Ç –¥–∞–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞. –ò–Ω–æ–≥–¥–∞ –∑–∞–¥–∞—á–∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤.
–í –ø–æ—Ç–æ–∫–∞—Ö —á—Ç–µ–Ω–∏—è –µ—Å—Ç—å –º–µ—Ç–æ–¥ get. –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –æ–Ω –ø—Ä–æ—á—Ç–µ—Ç –æ–¥–∏–Ω –±–∞–π—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ. –û–±—ã—á–Ω–æ –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ—Ç 0 –¥–æ 255, –Ω–æ –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —ç—Ç–æ —á–∏—Å–ª–æ —Ä–∞–≤–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—ã–∑–æ–≤–æ–º istream::char_traits::eof(). –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ ‚Äî –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç end of file.
–ß—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å N –±–∞–π—Ç–æ–≤, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π —Ü–∏–∫–ª:
size_t ReadExact(istream& input, char* dst, size_t count) {
    for (size_t i = 0; i < count; ++i) {
        int c = input.get();
        if (c == istream::traits_type::eof() || !input) {
            return i;
        }
        dst[i] = static_cast<char>(c);
    }

    return count;
}
–£–∫–∞–∑–∞—Ç–µ–ª—å –∑–¥–µ—Å—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å—Å—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö. –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è –≤ string, vector<char>, array<char, N> –∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã. –û–¥–Ω–∞–∫–æ —É —Å—ã—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è –µ—Å—Ç—å —Å–≤–æ–∏ –º–∏–Ω—É—Å—ã: –¥–∞–∂–µ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –ø–∞–º—è—Ç–∏ –Ω–µ –±—É–¥–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω. –ü–æ–¥–æ–±–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∏–¥—ë—Ç –µ—â—ë –∏–∑ —è–∑—ã–∫–∞ C, –æ–Ω–∞ –±—É–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–æ–±—Ä–∞–Ω–∞ –≤ —Å–ø—Ä–∏–Ω—Ç–µ 12.
–î–µ–ª–∞—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é ReadExact –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ ‚Äî –¥–ª—è —á—Ç–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–π—Ç–æ–≤ —É –ø–æ—Ç–æ–∫–∞ istream –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ read. –û–Ω —É—Å—Ç—Ä–æ–µ–Ω –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–∏–ø–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç –Ω–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∫–∞–∫ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ ReadExact, –∞ —Å–∞–º –ø–æ—Ç–æ–∫, –∫–∞–∫ –≤–æ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –ø–æ—Ç–æ–∫–æ–≤. –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –ø–æ—Å–ª–µ read –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ gcount. –°—Ä–∞–≤–Ω–∏–º –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –∏—Å–ø–æ–ª—å–∑—É—é—â—É—é get, —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º read:
#include "log_duration.h"

#include <fstream>
#include <iostream>
#include <random>
#include <string>

using namespace std;

size_t ReadExact(istream& input, char* dst, size_t count) {
    for (size_t i = 0; i < count; ++i) {
        int c = input.get();
        if (c == istream::traits_type::eof() || !input) {
            return i;
        }
        dst[i] = static_cast<char>(c);
    }

    return count;
}

string GenerateRandomString(size_t size) {
    string random_str(size, 0);
    static mt19937 engine;

    for (char& c : random_str) {
        c = static_cast<char>(uniform_int_distribution<int>('A', 'Z')(engine));
    }

    return random_str;
}

int main() {
    // —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ 10 –º–µ–≥–∞–±–∞–π—Ç
    static const int FILE_SIZE = 10 * 1024 * 1024;
    static const int READ_COUNT = 10;

    // —Å–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
    {
        ofstream test_out("test.txt");
        test_out << GenerateRandomString(FILE_SIZE);
    }

    vector<char> buffer(FILE_SIZE);

    // –ø—Ä–æ—á–∏—Ç–∞–µ–º –µ–≥–æ –∑–∞–¥–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏
    {
        LOG_DURATION("multiple get");
        ifstream test_in("test.txt");
        for (int i = 0; i < READ_COUNT; ++i) {
            test_in.seekg(0);
            ReadExact(test_in, buffer.data(), FILE_SIZE);
        }
    }

    {
        LOG_DURATION("stream read");
        ifstream test_in("test.txt");
        for (int i = 0; i < READ_COUNT; ++i) {
            test_in.seekg(0);
            test_in.read(buffer.data(), FILE_SIZE);
        }
    }
}
–ö–∞–∂–¥—ã–º –º–µ—Ç–æ–¥–æ–º –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –≤ –æ–±—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ 100 –º–µ–≥–∞–±–∞–π—Ç. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
multiple get: 8933 ms
stream read: 351 ms
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º–µ—Ç–æ–¥ read —á–∏—Ç–∞–µ—Ç —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é –ø—Ä–∏–º–µ—Ä–Ω–æ 280 –ú–±–∞–π—Ç/—Å, –∞ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ get –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—Å–µ–≥–æ 11 –ú–±–∞–π—Ç/—Å.
–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏ —Ä–∞–¥–∏ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ—Ä–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–æ–º –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞–¥–µ–∂–Ω–æ. –ò–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –¥–∏—Å–∫–∞ –≤—Ä–µ–º—è –º–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è. –ß—Ç–µ–Ω–∏–µ –¥–∞–∂–µ –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –¥–µ—Å—è—Ç–∫–∏ —Å–µ–∫—É–Ω–¥. –ù–∞–ø—Ä–æ—Ç–∏–≤, –µ—Å–ª–∏ —Ñ–∞–π–ª –±—ã–ª –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω, –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫—ç—à–µ –¥–∏—Å–∫–∞, –∏ —á—Ç–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–º. –ù–æ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π.
–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥: get —Ö–æ—Ä–æ—à, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ. –ù–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ —Ñ–∞–π–ª–∞ –æ–Ω –Ω–µ –≥–æ–¥–∏—Ç—Å—è. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞–∫–æ–º—ã–π getline, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å—ë –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞. –ó–∞–ø–æ–º–Ω–∏—Ç–µ: –∫–∞–∂–¥–∞—è –ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥–∏ –æ—à–∏–±–æ–∫ –∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–∞–ª—ã—Ö –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤. –°–ª–µ–¥—É–µ—Ç —Å–≤–µ—Å—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∫ –º–∏–Ω–∏–º—É–º—É.
–¢–∞–∫–∂–µ get –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª —Ü–µ–ª–∏–∫–æ–º –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å —Å–¥–µ–ª–∞—Ç—å —Å –∫–∞–∂–¥—ã–º —Å–∏–º–≤–æ–ª–æ–º. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É—Ñ–µ—Ä ‚Äî –Ω–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –∏ –Ω–µ –∑–∞–Ω–∏–º–∞—é—â–∏–π –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏. –•–æ—Ä–æ—à–∏–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ ‚Äî –æ–¥–∏–Ω –∫–∏–ª–æ–±–∞–π—Ç. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã —Å–æ–∫—Ä–∞—â–∞—é—Ç—Å—è –±–æ–ª–µ–µ —á–µ–º –≤ —Ç—ã—Å—è—á—É —Ä–∞–∑ –∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Å–∞–º–∏–º —á—Ç–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.
–ê–Ω–∞–ª–æ–≥–∏ get –∏ read –¥–ª—è –∑–∞–ø–∏—Å–∏ ‚Äî –º–µ—Ç–æ–¥—ã put –∏ write. –ù–∞ –Ω–∏—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è —Ç–µ –∂–µ –ø—Ä–∞–≤–∏–ª–∞, —á—Ç–æ –∏ –Ω–∞ –º–µ—Ç–æ–¥—ã —á—Ç–µ–Ω–∏—è: –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å put –¥–ª—è –∑–∞–ø–∏—Å–∏ –º–Ω–æ–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–¥—Ä—è–¥. –ù–∞–ø–∏—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —É—Ç–∏–ª–∏—Ç—ã cp, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã. –ü—Ä–∏ —ç—Ç–æ–º –ø—Ä–∏–º–µ–Ω–∏–º –±—É—Ñ–µ—Ä:
#include <array>
#include <fstream>
#include <iostream>
#include <string>

using namespace std;

int main(int argc, const char** argv) {
    // –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –≤—ã–≤–æ–¥–∏–º –æ—à–∏–±–∫—É –∏ –≤—ã—Ö–æ–¥–∏–º —Å –∫–æ–¥–æ–º
    if (argc != 3) {
        cerr << "Usage: "s << argv[0] << " <in file> <out file>"s << endl;
        return 1;
    }

    ifstream in_file(argv[1]);
    if (!in_file) {
        cerr << "Can't open input file"s << endl;
        return 2;
    }

    ofstream out_file(argv[2]);
    if (!out_file) {
        cerr << "Can't open output file"s << endl;
        return 2;
    }

    // —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –æ–¥–∏–Ω –∫–∏–ª–æ–±–∞–π—Ç
    static const int BUFF_SIZE = 1024;
    std::array<char, BUFF_SIZE> buffer;

    do {
        in_file.read(buffer.data(), BUFF_SIZE);
        out_file.write(buffer.data(), in_file.gcount());
    } while (in_file);
}

–í–∞–º –º–æ–≥–ª–æ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–Ω—ã–º, —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ –ø–∏—à–µ—Ç—Å—è –≤ —Ñ–∞–π–ª, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è. –ù–æ —Ç–∞–∫–æ–≤—ã –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å read ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–π, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤, —Å–∫–æ–ª—å–∫–æ –º—ã –∑–∞–ø—Ä–æ—Å–∏–ª–∏. –ü–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å —Ñ–∞–π–ª–∞, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ–∫–∞–∂–µ—Ç—Å—è –º–µ–Ω—å—à–µ –±—É—Ñ–µ—Ä–∞, –∏ –ø–æ—Ç–æ–∫ –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ read –Ω–µ —É–¥–∞–ª—Å—è. –ù–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± —É–∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ, ‚Äî –º–µ—Ç–æ–¥ gcount. –î–∞–∂–µ –µ—Å–ª–∏ —Å–ª—É—á–∏–ª–∞—Å—å –∫–∞–∫–∞—è-–ª–∏–±–æ –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è, –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç 0, –∏ write –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø–∏—à–µ—Ç.
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–∞–∑–≤–∞–≤ –µ–µ my_cp. –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª canterburry.txt –∏ —Å—Ä–∞–≤–Ω–∏–º –µ–≥–æ —Å –∏—Å—Ö–æ–¥–Ω—ã–º —É—Ç–∏–ª–∏—Ç–æ–π diff:
my_cp canterburry.txt canterburry-copy.txt
diff canterburry.txt canterburry-copy.txt
–í—ã–≤–æ–¥ diff –ø—É—Å—Ç, –∑–Ω–∞—á–∏—Ç, —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—É—Å—Ç—å —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∫–æ–ø–∏—Ä—É–µ—Ç —Å–∞–º—É —Å–µ–±—è:
my_cp "my_cp.exe" "my_cp_copy.exe"
my_cp_copy "canterburry.txt" "canterburry-copy.txt"
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å–∫–∞ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥ –ø–æ–¥ Windows –≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç —Ç–∞–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

–§–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –í—ã—Ö–æ–¥–∏—Ç, –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –Ω–µ –º–æ–∂–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª.
–≠—Ç–æ –æ–ø–∞—Å–Ω–∞—è –æ—à–∏–±–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–ª–∞–≥–∞ binary –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî –≤—Ö–æ–¥–Ω–æ–≥–æ –∏ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ. –ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ–ª–∞–≥–∞ –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –≤–Ω–æ—Å–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏ –∑–∞–ø–∏—Å–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ü—ã —Å—Ç—Ä–æ–∫ –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ø–µ—á–∞—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ binary –≤–µ–∑–¥–µ, –∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –ø—Ä–∏–¥—ë—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º.
–ù—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ —Å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –¥–æ–±–∞–≤–∏–≤ –≤ –≤—ã–∑–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä:
   ifstream in_file(argv[1], ios::in | ios::binary);
    if (!in_file) {
        cerr << "Can't open input file"s << endl;
        return 2;
    }

    ofstream out_file(argv[2], ios::out | ios::binary);
    if (!out_file) {
        cerr << "Can't open output file"s << endl;
        return 2;
    }
–¢–µ—Ä–Ω–∏—Å—Ç—ã–µ –ø—É—Ç–∏: —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
–ü—Ä–æ–π–¥—è –ø–æ—á—Ç–∏ –≤—Å–µ —É—Ä–æ–∫–∏ —ç—Ç–æ–π —Ç–µ–º—ã, –≤—ã –Ω–∞—É—á–∏–ª–∏—Å—å –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏: —á—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞. –í—ã —É–∑–Ω–∞–ª–∏ –æ —Å–ø–æ—Å–æ–±–∞—Ö –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ —Ä–∞–∑–º–µ—Ä, –Ω–æ —Ç–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ, –∞ —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ. –î–ª—è –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏ –≤ C++ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ filesystem.
üìñ  –ü—Ä–∏ –∫–æ–º–ø–æ–Ω–æ–≤–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º filesystem –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –î–ª—è gcc –¥–æ –≤–µ—Ä—Å–∏–∏ 9.1 –Ω—É–∂–µ–Ω –∫–ª—é—á -lstdc++fs.
–ü—É—Ç–∏
–í —Ä–∞–∑–Ω—ã—Ö –û–° —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏–º–µ—é—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏. –í –æ–¥–Ω–∏—Ö —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –ø—É—Ç–∏ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –ø—Ä—è–º—ã–º —Å–ª–µ—à–µ–º, –≤ –¥—Ä—É–≥–∏—Ö ‚Äî –æ–±—Ä–∞—Ç–Ω—ã–º. –í –æ–¥–Ω–∏—Ö –≤—Å–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –¥–∏—Å–∫–∞ –ª–∏–±–æ —Å —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞ —Å–µ—Ç–µ–≤—É—é –ø–∞–ø–∫—É, –≤ –¥—Ä—É–≥–∏—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª–µ—à–∞ –≤ –Ω–∞—á–∞–ª–µ. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ filesystem ‚Äî –¥–∞—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–π –±—ã —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.
–ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω—è—Ç–∏–µ filesystem ‚Äî –ø—É—Ç—å. –û–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å–æ–º std::filesystem::path. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π, —Ç–∞–∫ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å. –û–Ω —Å–ø–æ—Å–æ–±–µ–Ω –∑–∞–¥–∞–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–ª–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª. –ü—É—Ç—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–µ–∫—Ü–∏–π ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –ø–∞–ø–æ–∫. –ü—Ä–∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—É—Ç–µ–π –º–æ–∂–Ω–æ –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—Ç—å—Å—è –æ —Ç–æ–º, –∫–∞–∫–æ–π —Å–ª–µ—à –Ω—É–∂–µ–Ω –≤ –¥–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é /:
#include <filesystem>
#include <iostream>

using namespace std;

int main() {
    using filesystem::path;

    path p = path("a") / path("folder") / path("and") / path("..") / path("a") / path("file.txt");

    // –≤—ã–≤–æ–¥–∏–º –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∏ –≤ std::string
    cout << p.string() << endl;
}
–ü–æ–¥ Windows –≤—ã–≤–æ–¥ —Ç–∞–∫–æ–π:
a\folder\and\..\a\file.txt
–ü–æ–¥ Linux –∏ MacOs —Å–ª–µ—à–∏ –ø—Ä—è–º—ã–µ:
a/folder/and/../a/file.txt
üìñ  –î—Ä—É–≥–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –ø—É—Ç–µ–π –≤ —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∞. –í Windows –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 16-–±–∏—Ç–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏, –≤ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux ‚Äî utf-8. –ü–æ—ç—Ç–æ–º—É –≤ Windows –ø—É—Ç—å –Ω–µ–ª—å–∑—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ string –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—É—Ç–µ–π, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –±—É–∫–≤—ã —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤. –î–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø—É—Ç–∏ –ø–æ–¥ Windows –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–∏–ø wstring, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π string –∑–∞ —Ç–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, —á—Ç–æ –≤–º–µ—Å—Ç–æ char –≤ –Ω—ë–º wchar_t. –ö–ª–∞—Å—Å filesystem::path —Å–ø–æ—Å–æ–±–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ª—é–±—ã–µ –ø—É—Ç–∏. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º path::string_type —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ —Ç–∏–ø–∞, –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –¥–ª—è –ø—É—Ç–µ–π –≤ –¥–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. –ï—Å–ª–∏ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, —Ç–æ –ø–æ–¥ Windows –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –æ–±–æ–π—Ç–∏—Å—å —Ñ—É–Ω–∫—Ü–∏–µ–π main —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ int, const char**. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞: int wmain(int argc, const wchar_t** argv). –ß—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å, –≤—Å–µ –ø—É—Ç–∏ –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫ filesystem::path. –£ –Ω–µ–≥–æ –µ—Å—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–µ –∫–∞–∫ string, —Ç–∞–∫ –∏ wstring.
–õ–∏—Ç–µ—Ä–∞–ª –¥–ª—è –ø—É—Ç–µ–π
–í –ø—Ä–∏–º–µ—Ä–µ –º—ã –∑–∞–ø–∏—Å—ã–≤–∞–ª–∏ –ø—É—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ –¥–ª–∏–Ω–Ω–æ –∏ —Å–ª–æ–∂–Ω–æ, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—è –∏–º—è —Ç–∏–ø–∞: path("a") / path("folder") / path("and") / path("..") / path("a") / path("file.txt"). –ö–∞–∫ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏ –ø–æ–ª—É—á–∏—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ —Ç–∞–∫–æ–π –∂–µ –æ–±—ä–µ–∫—Ç path? –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø path.
–ó–∞–ø–∏—Å–∞—Ç—å –≤—Å—ë –≤ –æ–¥–∏–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: path("a/folder/and/../a/file.txt").
–£–±—Ä–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–µ –∏ —Å–∞–º—É –ø–∞–ø–∫—É: path("a") / path("folder") / path("a") / path("file.txt").
–¢–æ–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Å—É—Ñ—Ñ–∏–∫—Å –¥–ª—è –ø—É—Ç–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å ""s.
–°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º s –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç string —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –∫–æ—Ä–æ—Ç–∫–æ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ —Å—É—Ñ—Ñ–∏–∫—Å–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—É—Ç–µ–π –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–µ—Ç. –ù–æ –Ω–µ–≤–µ–ª–∏–∫–∞ –±–µ–¥–∞, –≤–µ–¥—å –Ω–∏—á—Ç–æ –Ω–µ –º–µ—à–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ —Å–∞–º–∏–º!
–°—É—Ñ—Ñ–∏–∫—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞, –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å–æ –∑–Ω–∞–∫–∞ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è. –¢–∞–∫ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ª–∏—Ç–µ—Ä–∞–ª–∞–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±—É–¥—É—â–µ–º. –û–ø—Ä–µ–¥–µ–ª–∏–º –¥–ª—è –ø—É—Ç–∏ —Å—É—Ñ—Ñ–∏–∫—Å _p:
path operator""_p(const char* data, std::size_t sz) {
    return path(data, data + sz);
}
–ï—â—ë –æ–¥–Ω–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Ç–∞–∫–æ–π –∑–∞–ø–∏—Å–∏ ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ª–∏—Ç–µ—Ä–∞–ª–∞, –≤—ã—á–∏—Å–ª—è–µ–º—ã–π –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–æ –¥–∞—ë—Ç –Ω–µ–±–æ–ª—å—à–æ–π –≤—ã–∏–≥—Ä—ã—à –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤—Ç–æ—Ä–æ–π —Ä–∞–∑, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ—ë –¥–ª–∏–Ω—É. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å s –∏ sv. –°–∞–º path —Å–æ–∑–¥–∞–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è ‚Äî –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª –∏ –Ω–∞ –∫–æ–Ω–µ—á–Ω—ã–π.
–¢–∞–∫–æ–π —Å—É—Ñ—Ñ–∏–∫—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å—å –ø—É—Ç–∏:
"a"_p / "folder"_p / "and"_p / ".."_p / "a"_p / "file.txt"_p
–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—É—Ç—è–º–∏
–ü—É—Ç–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ string –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ fstream, ofstream, ifstream, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª. –û–ø–∏—à–µ–º –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—É—Ç–µ–π.
–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø—É—Ç–∏ –∏–∑ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ
–ï—Å–ª–∏ –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π, –µ–≥–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º, –ø—Ä–∏–ø–∏—Å–∞–≤ –∫ –Ω–∞—á–∞–ª—É —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É. –í–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è absolute. –ï—Å–ª–∏ –ø—É—Ç—å —É–∂–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π, —Ñ—É–Ω–∫—Ü–∏—è –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç:
path p = "a"_p / "folder"_p / "and"_p / ".."_p / "a"_p / "file.txt"_p;

cout << "–ò—Å—Ö–æ–¥–Ω—ã–π –≤–∏–¥: "s << p.string() << endl;
p = filesystem::absolute(p);
cout << "–ü–æ—Å–ª–µ absolute(): "s << p.string() << endl;
p = filesystem::absolute(p);
cout << "–ü–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ absolute(): "s << p.string() << endl;
–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:
–ò—Å—Ö–æ–¥–Ω—ã–π –≤–∏–¥: a/folder/and/../a/file.txt
–ü–æ—Å–ª–µ absolute(): /tmp/1610305631.7592149/a/folder/and/../a/file.txt
–ü–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ absolute(): /tmp/1610305631.7592149/a/folder/and/../a/file.txt
–§—É–Ω–∫—Ü–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ filesystem_error –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏. –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ std::error_code&, –≤–º–µ—Å—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –Ω–µ–≥–æ –±—É–¥–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –æ—à–∏–±–∫–∞.
–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏
–í filesystem –µ—Å—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–æ–∫:
create_directory
create_directories
–û–±–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø—É—Ç—å –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ std::error_code&, –Ω–∞–ª–∏—á–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –û—Ç–ª–∏—á–∏–µ –ø–µ—Ä–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –≤—Ç–æ—Ä–æ–π –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∞ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø–∞–ø–∫—É, –∞ –≤—Ç–æ—Ä–∞—è ‚Äî —Å—Ä–∞–∑—É —Å–µ—Ä–∏—é –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –ø–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–µ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.
–ü—Ä–∏–≤–µ–¥–µ–º –ø—Ä–∏–º–µ—Ä:
#include <filesystem>
#include <fstream>
#include <iostream>

using namespace std;
using filesystem::path;

path operator""_p(const char* data, std::size_t sz) {
    return path(data, data + sz);
}

void CreateFile(path p) {
    ofstream file(p);
    if (file) {
        cout << "–§–∞–π–ª —Å–æ–∑–¥–∞–Ω: "s << p.string() << endl;
    } else {
        cout << "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞: "s << p.string() << endl;
    }
}

int main() {
    error_code err;

    path p = "tmp"_p / "a"_p / "folder"_p;

    CreateFile(p / "file.txt"_p);

    filesystem::create_directory(p, err);
    if (err) {
        cout << "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ create_directory: "s << err.message() << endl;
    } else {
        cout << "–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ —á–µ—Ä–µ–∑ create_directory: "s << p.string() << endl;
    }

    filesystem::create_directories(p, err);
    if (err) {
        cout << "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ create_directories: "s << err.message() << endl;
    } else {
        cout << "–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ —á–µ—Ä–µ–∑ create_directories: "s << p.string() << endl;
    }

    CreateFile(p / "file.txt"_p);

    path p2 = p.parent_path() / "folder2"_p;
    filesystem::create_directory(p2, err);
    if (err) {
        cout << "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ create_directory: "s << err.message() << endl;
    } else {
        cout << "–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ —á–µ—Ä–µ–∑ create_directory: "s << p2.string() << endl;
    }

    CreateFile(p2 / "file.txt"_p);
}
–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:
–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞: tmp/a/folder/file.txt
–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ create_directory: No such file or directory
–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ —á–µ—Ä–µ–∑ create_directories: tmp/a/folder
–§–∞–π–ª —Å–æ–∑–¥–∞–Ω: tmp/a/folder/file.txt
–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ —á–µ—Ä–µ–∑ create_directory: tmp/a/folder2
–§–∞–π–ª —Å–æ–∑–¥–∞–Ω: tmp/a/folder2/file.txt
–†–∞–∑–ª–∏—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –ø–∞–ø–∫–∏
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–±—ä–µ–∫—Ç–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ filesystem::status. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ filesystem::file_status. –ö–∞–∫ –∏ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ filesystem, –æ–Ω–∞ –∏–º–µ–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ std::error_code, –∑–∞–º–µ–Ω—è—é—â–∏–π –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
–ò–º–µ—è file_status, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–±—ä–µ–∫—Ç —Ñ–∞–π–ª–æ–º –∏–ª–∏ –ø–∞–ø–∫–æ–π:
void PrintFileOrFolder(filesystem::path p) {
    error_code err;
    auto status = filesystem::status(p, err);
    
    if (err) {
        return;
    }

    if (status.type() == filesystem::file_type::regular) {
        cout << "–ü—É—Ç—å "s << p.string() << " —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ–∞–π–ª"s << endl;
    } else if (status.type() == filesystem::file_type::directory) {
        cout << "–ü—É—Ç—å "s << p.string() << " —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–ø–∫—É"s << endl;
    } else {
        cout << "–ü—É—Ç—å "s << p.string() << " —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç"s << endl;
    }
}
–§—É–Ω–∫—Ü–∏—è status –Ω–µ —Å—á–∏—Ç–∞–µ—Ç –æ—à–∏–±–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –ø—É—Ç—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç.
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ
–ú–æ–∂–Ω–æ –ø—Ä–æ–π—Ç–∏—Å—å —Ü–∏–∫–ª–æ–º for –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º –≤ –ø–∞–ø–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∞—Å—Å filesystem::directory_iterator:
#include <filesystem>
#include <fstream>
#include <iostream>

using namespace std;
using filesystem::path;

path operator""_p(const char* data, std::size_t sz) {
    return path(data, data + sz);
}

...

int main() {
    path p = "a"_p / "folder"_p;
    filesystem::create_directories(p);
    filesystem::create_directory(p / "subfolder"_p);
    std::ofstream(p / "file.txt"_p) << "File content"s;

    for (const auto& dir_entry: filesystem::directory_iterator(p)) {
        PrintFileOrFolder(dir_entry.path());
    }
}
–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:
–ü—É—Ç—å a/folder/file.txt —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ–∞–π–ª
–ü—É—Ç—å a/folder/subfolder —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–ø–∫—É
–ü–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –ø—Ä–æ–π–¥–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑.
–≠–ª–µ–º–µ–Ω—Ç –ø–∞–ø–∫–∏ dir_entry –∏–º–µ–µ—Ç —Ç–∏–ø filesystem::directory_entry, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–∏–º–æ —Å–∞–º–æ–≥–æ –ø—É—Ç–∏ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∏ –¥—Ä—É–≥—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ß—Ç–æ–±—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª–∏—à–Ω–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å—Ç–∞—Ç—É—Å, –∏–∑–º–µ–Ω–∏–≤ —Ñ—É–Ω–∫—Ü–∏—é PrintFileOrFolder:
void PrintFileOrFolder(filesystem::file_status status) {
    if (status.type() == filesystem::file_type::regular) {
        cout << "–ü—É—Ç—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ–∞–π–ª"s << endl;
    } else if (status.type() == filesystem::file_type::directory) {
        cout << "–ü—É—Ç—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–∞–ø–∫—É"s << endl;
    } else {
        cout << "–ü—É—Ç—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç"s << endl;
    }
}
void PrintFileOrFolder(filesystem::path p) {
    error_code err;
    auto status = filesystem::status(p, err);
    
    if (err) {
        return;
    }

    PrintFileOrFolder(status);
}
–¶–∏–∫–ª –≤ —Ñ—É–Ω–∫—Ü–∏–∏ main —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å:
   for (const auto& dir_entry: filesystem::directory_iterator(p)) {
        PrintFileOrFolder(dir_entry.status());
    }
–ë–æ–ª—å—à–µ –æ –ø—É—Ç—è—Ö
–£ –ø—É—Ç–∏ –µ—Å—Ç—å –¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: native –∏ generic. –í native-—Ñ–æ—Ä–º–∞—Ç–µ –ø—É—Ç—å –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫, –∫–∞–∫ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. –ú–µ—Ç–æ–¥ path::string –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –≤ —ç—Ç–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏. –û–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤.
–§–æ—Ä–º–∞—Ç generic –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–∞–ø–∫–∏ –ø—Ä—è–º—ã–º —Å–ª–µ—à–µ–º. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å generic-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ generic_string. –≠—Ç–æ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ path. –¢–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–ª–µ–∑–µ–Ω –ø—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—É—Ç–∏ –∏–∑ string. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç—å, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø—É—Ç–∏ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ —É—Ä–æ–∫–∞, –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–∞–∫:
path p = path("a/folder/and/../a/file.txt"s, path::generic_format);
–¢—É—Ç –≤—ã –≤–∏–¥–∏—Ç–µ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—É—Ç–∏ –∏–∑ string. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω —Ä–∞–≤–µ–Ω path::generic_format::auto_format. –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ—Å—Ç–∞—Ä–∞–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å.
–ü–æ–¥ Windows –ø—É—Ç—å –≤ native-—Ñ–æ—Ä–º–∞—Ç–µ –∏–Ω–æ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±–∞ –≤–∏–¥–∞ —Å–ª–µ—à–µ–π, –Ω–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –æ–±—Ä–∞—Ç–Ω—ã–π. –ú–æ–∂–Ω–æ —è–≤–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∏–ø–∞ path –≤—Å–µ —Å–ª–µ—à–∏ –Ω–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥–æ–º make_preferred:
path p = path("a/folder/and/../a/file.txt"s, path::generic_format);

cout << "p.string():                      "s << p.string() << endl;
p.make_preferred();
cout << "p.string() –ø–æ—Å–ª–µ make_preferred: "s << p.string() << endl;
cout << "p.generic_string():              "s << p.generic_string() << endl;
–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:
p.string():                      a/folder/and/../a/file.txt
p.string() –ø–æ—Å–ª–µ make_preferred: a\folder\and\..\a\file.txt
p.generic_string():              a/folder/and/../a/file.txt
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—É—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–æ—à–ª–∏ –≤ –ø—Ä–æ—à–ª—ã–π —É—Ä–æ–∫.
–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
–ü—É—Ç–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–∞–ø–∫–∏., –ø–∞–ø–∫–∏ .. –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–µ—à–µ–π –ø–æ–¥—Ä—è–¥, –ª–µ–≥–∫–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º lexically_normal:
path p = "a"_p / "folder"_p / "and"_p / ".."_p / "a"_p / "file.txt"_p;

cout << "–ò—Å—Ö–æ–¥–Ω—ã–π –≤–∏–¥: "s << p.string() << endl;
p = p.lexically_normal();
cout << "–ü–æ—Å–ª–µ lexically_normal(): "s << p.string() << endl;
–í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:
–ò—Å—Ö–æ–¥–Ω—ã–π –≤–∏–¥: a/folder/and/../a/file.txt
–ü–æ—Å–ª–µ lexically_normal(): a/folder/a/file.txt
–ü–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—É—Ç—å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º.
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–∏
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –ø–∞–ø–∫—É, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ –ø—É—Ç–∏ parent_path. –ù–æ –æ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∞–∏–≤–Ω–æ ‚Äî –ø—Ä–æ—Å—Ç–æ —É–±–∏—Ä–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –ø—É—Ç–∏, –µ—Å–ª–∏ —ç—Ç–æ –±—ã–ª –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç.
–î—Ä—É–≥–æ–µ
–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ filesystem –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏. –ü–æ–ª–Ω—ã–π –∏—Ö —Å–ø–∏—Å–æ–∫ ‚Äî –Ω–∞ —Å–∞–π—Ç–µ cppreference.
–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö:
exists ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–∞–ø–∫–∏. –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏–ª–∏ –ø—É—Ç—å.
copy, copy_file ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫.
current_path ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏.
equivalent ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–≤–∞ –ø—É—Ç–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç.
file_size ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞.
remove, remove_all ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫.
resize_file ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤. –£–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –º–æ–∂–Ω–æ –ø–æ—Ç–æ–∫–æ–º ofstream, –∞ —É–º–µ–Ω—å—à–∞—Ç—å ‚Äî —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π.
–ù–µ—Ç –Ω–∏–∫–∞–∫–æ–π –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ –∑–∞ –≤—Ä–µ–º—è, –ø—Ä–æ—à–µ–¥—à–µ–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏—è if –¥–æ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è, –¥—Ä—É–≥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ —É–¥–∞–ª–∏—Ç —Ñ–∞–π–ª. –ö —Ç–æ–º—É –∂–µ, –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –∫—Ç–æ-–Ω–∏–±—É–¥—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –Ω–∞ –µ–≥–æ –º–µ—Å—Ç–µ. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –µ—Å—Ç—å —Å–µ—Ä—å—ë–∑–Ω–∞—è –æ—à–∏–±–∫–∞: –µ—Å–ª–∏ –≤—ã –Ω–µ —É–∫–∞–∑–∞–ª–∏ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —É —Ñ—É–Ω–∫—Ü–∏–∏ status, –æ–Ω –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–æ—á–Ω–æ –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç –∫–æ–¥ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø—Ä—è–º–æ –≤ main.
–ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω—ã–º, —á—Ç–æ —Ñ–∞–π–ª —É–¥–∞–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è. –ù–æ —Å–ª–µ–¥—É–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–≤–µ –≤–µ—â–∏:
–î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ–Ω—è—Ç–∏—è ¬´–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ¬ª. –õ—é–±–∞—è –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è –ª–∏—à—å –¥–æ –ø–æ—Ä—ã –¥–æ –≤—Ä–µ–º–µ–Ω–∏.
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤. –¢–∞–∫ –¥–µ–ª–∞—é—Ç –∞–Ω—Ç–∏–≤–∏—Ä—É—Å—ã. –ö–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—ã—Ç–∞—Ç—å—Å—è –µ–≥–æ —É–¥–∞–ª–∏—Ç—å, –∑–∞–ø–æ–¥–æ–∑—Ä–∏–≤ –≤ –Ω—ë–º –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π –∫–æ–¥.
–í —É—Å–ª–æ–≤–∏—è—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤—Å–µ—Ö –ø—Ä–æ–≥—Ä–∞–º–º –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —Å–ª–µ–¥—É–µ—Ç –≤—Å–µ–≥–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –æ—à–∏–±–∫–∏ –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –±—É–¥–µ—Ç –≤–∞–º –ø–æ–º–æ–≥–∞—Ç—å, –æ–±–µ—Ä–µ–≥–∞—è –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏. –í –æ–±—â–µ–º —Å–ª—É—á–∞–µ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –û–° –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π. –û–Ω–∏ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ –≤ —ç—Ç–æ—Ç –∫—É—Ä—Å —Ç–æ–∂–µ.
–°–≤–æ–π –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ —Å—ã—Ä—ã–º–∏ –ª–∏—Ç–µ—Ä–∞–ª–∞–º–∏
–í –∑–∞–¥–∞–Ω–∏–∏ –∫ —ç—Ç–æ–º—É —É—Ä–æ–∫—É –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤–∞–º –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä C++, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –º–µ—Å—Ç–æ #include-–¥–∏—Ä–µ–∫—Ç–∏–≤.
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í C++ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ <regex>. –û–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ cppreference. –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –∫—Ä–∞—Ç–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –ø–æ–ª–µ–∑–Ω—ã–µ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º –∫–ª–∞—Å—Å–∞ std::regex. –ï–≥–æ –º–æ–∂–Ω–æ —Å–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ª–∏—Ç–µ—Ä–∞–ª–∞. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º regex_match, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
str ‚Äî —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –ª–∏—Ç–µ—Ä–∞–ª, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ. –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–≤–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–∞ —Å–∏–º–≤–æ–ª—ã;
m (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ smatch, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è;
e ‚Äî —Å–∞–º–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ;
flags (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è.
–§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –µ—Å–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–π–¥–µ–Ω–æ. –ü—Ä–∏ —ç—Ç–æ–º –º–µ—Ç–æ–¥ empty –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ m –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å false.
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, –æ–∫—Ä—É–∂–µ–Ω–Ω—ã—Ö –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–±–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –ï—â—ë –æ–Ω–æ –ø–æ–º–æ–∂–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å —Ü–µ–ª—É—é –∏ –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å —á–∏—Å–ª–∞:
#include <iostream>
#include <regex>

using namespace std;

void PrintFloatInfo(const std::string& text) {
    static regex num_reg("\\s*([+-]?[0-9]+)\\.([0-9]*)(e[+-]?[0-9]+)?\\s*");
    smatch m;

    if (!regex_match(text, m, num_reg)) {
        cout << text << " - –Ω–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π"s << endl;
    } else {
        cout << text << " - —á–∏—Å–ª–æ —Å —Ü–µ–ª–æ–π —á–∞—Å—Ç—å—é "s << m[1]
                     << ", –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é "s << m[2] << endl;
    }
}

int main() {
    PrintFloatInfo("aaabbb"s);
    PrintFloatInfo("3.1415926535"s);
    PrintFloatInfo("  123.\t"s);
    PrintFloatInfo("1.2.3"s);
    PrintFloatInfo("10.5a"s);
    PrintFloatInfo("10.5e+05"s);
}
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç:
aaabbb - –Ω–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
3.1415926535 - —á–∏—Å–ª–æ —Å —Ü–µ–ª–æ–π —á–∞—Å—Ç—å—é 3, –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é 1415926535
  123.     - —á–∏—Å–ª–æ —Å —Ü–µ–ª–æ–π —á–∞—Å—Ç—å—é 123, –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é 
1.2.3 - –Ω–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
10.5a - –Ω–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
10.5e+05 - —á–∏—Å–ª–æ —Å —Ü–µ–ª–æ–π —á–∞—Å—Ç—å—é 10, –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç—å—é 5
–í —ç—Ç–æ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≥—Ä—É–ø–ø—ã ‚Äî —Å–∫–æ–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—á–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –¢–∞–∫ –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Ü–µ–ª—É—é –∏ –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç–∏.
–§–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ C++, –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ –∏ –∂–∏–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ.
–¢–∞–∫–∂–µ –¥–æ–ø—É—Å—Ç–∏–º—ã –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –§–æ—Ä–º–∞—Ç –∑–∞–¥–∞—ë—Ç—Å—è —Ñ–ª–∞–≥–æ–º –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ regex.
–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã–≥–ª—è–¥–µ–ª–æ —Ç–∞–∫: \s*([+-]?[0-9]+)\.([0-9]*)(e[+-]?[0-9]+)?\s*. –ß–∏—Ç–∞—Ç—å –µ–≥–æ –Ω–µ–ø—Ä–æ—Å—Ç–æ, –Ω–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –∫–æ–¥–µ –ø—Ä–∏—à–ª–æ—Å—å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–ª–µ—à–∏, —á—Ç–æ –µ—â—ë —Å–∏–ª—å–Ω–µ–µ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —á—Ç–µ–Ω–∏–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—ã—Ä–æ–π –ª–∏—Ç–µ—Ä–∞–ª ‚Äî —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –ª–∏—Ç–µ—Ä–∞–ª–∞, –ø–æ–∑–≤–æ–ª—è—é—â—É—é –Ω–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã: —Å–ª–µ—à–∏, –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫ –∏ –¥–∞–∂–µ –∫–∞–≤—ã—á–∫–∏.
–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —Å—ã—Ä–æ–π –ª–∏—Ç–µ—Ä–∞–ª –≤ C++, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –ø–µ—Ä–µ–¥ –∫–∞–≤—ã—á–∫–æ–π –±—É–∫–≤—É R. –õ–∏—Ç–µ—Ä–∞–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ü–∞ –ª–∏—Ç–µ—Ä–∞–ª–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–∏—à–µ—Ç—Å—è –º–µ–∂–¥—É –∫–∞–≤—ã—á–∫–æ–π –∏ –æ—Ç–∫—Ä—ã–≤–∞—é—â–µ–π —Å–∫–æ–±–∫–æ–π. –ß—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å, –≥–¥–µ –ª–∏—Ç–µ—Ä–∞–ª –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –∑–∞–∫—Ä–æ–π—Ç–µ —Å–∫–æ–±–∫—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —ç—Ç—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –î–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ü–∞ –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ /:
static regex num_reg(R"/(\s*([+-]?[0-9]+)\.([0-9]*)(e[+-]?[0-9]+)?\s*)/");

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ / –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–æ C++17 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞–º–∏

**–•–æ—Ä–æ—à–æ:**
```cpp
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ \n –≤–º–µ—Å—Ç–æ endl –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
cout << "–ë—ã—Å—Ç—Ä—ã–π –≤—ã–≤–æ–¥\n";

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –±—É—Ñ–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
cout << "–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ" << flush;

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
const size_t BUFFER_SIZE = 8192;
vector<char> buffer(BUFFER_SIZE);
```

**–ü–ª–æ—Ö–æ:**
```cpp
// endl —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –±—É—Ñ–µ—Ä –∫–∞–∂–¥—ã–π —Ä–∞–∑ - –º–µ–¥–ª–µ–Ω–Ω–æ!
cout << "–ú–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥" << endl;

// –ù–µ–Ω—É–∂–Ω–æ–µ —á–∞—Å—Ç–æ–µ —Å–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ
cout << "–¥–∞–Ω–Ω—ã–µ" << flush << "–µ—â—ë –¥–∞–Ω–Ω—ã–µ" << flush;

// –ü–æ–±–∞–π—Ç–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
char c;
while (file.get(c)) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ - –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
}
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤

**–•–æ—Ä–æ—à–æ:**
```cpp
// –û—Ç–≤—è–∂–∏—Ç–µ cin –æ—Ç cout –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞
cin.tie(nullptr);

// –û—Ç–∫–ª—é—á–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é C/C++ stdio
ios_base::sync_with_stdio(false);

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RAII –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∫–∞–º–∏
class StreamUntier {
    ostream* old_tie;
public:
    StreamUntier() : old_tie(cin.tie(nullptr)) {}
    ~StreamUntier() { cin.tie(old_tie); }
};

// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–º –∫–æ–¥–µ
auto old_tie = cin.tie(nullptr);
// ... –æ–ø–µ—Ä–∞—Ü–∏–∏ ...
cin.tie(old_tie);
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏
// cin.tie() –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ cout - –ø—Ä–∏–Ω—É–∂–¥–∞–µ—Ç —Å–±—Ä–æ—Å –±—É—Ñ–µ—Ä–æ–≤

// –ù–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–º –∫–æ–¥–µ
cin.tie(nullptr); // –ú–æ–∂–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–¥
```

### –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–•–æ—Ä–æ—à–æ:**
```cpp
// –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –Ω–µ-—Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
ifstream file("data.bin", ios::binary);

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
const size_t BUFFER_SIZE = 1024;
array<char, BUFFER_SIZE> buffer;
while (file.read(buffer.data(), BUFFER_SIZE)) {
    // –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å buffer.data(), file.gcount() –±–∞–π—Ç
}

// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
if (!file) {
    cerr << "–§–∞–π–ª–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å\n";
}

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ñ–ª–∞–≥–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è
ofstream file("log.txt", ios::app); // –¥–æ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –±–µ–∑ —Ñ–ª–∞–≥–∞ binary - –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
ifstream file("data.bin"); // –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ios::binary

// –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
ifstream file("nonexistent.txt");
string data;
file >> data; // –ú–æ–∂–µ—Ç —Ç–∏—Ö–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –Ω–µ—É–¥–∞—á–µ–π

// ofstream –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
ofstream file("important_data.txt"); // –£–¥–∞–ª–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ!
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–•–æ—Ä–æ—à–æ:**
```cpp
// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
if (stream.good()) {
    stream >> data;
}

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ error_code —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–π
error_code ec;
auto status = filesystem::status("file.txt", ec);
if (!ec) {
    // –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å status
}

// –°–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ —Ñ–ª–∞–≥–∏ –æ—à–∏–±–æ–∫ –∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ
stream.clear(); // –°–±—Ä–æ—Å–∏—Ç—å —Ñ–ª–∞–≥–∏ –æ—à–∏–±–æ–∫
if (stream >> fallback_data) {
    // –ø–æ–ø—ã—Ç–∫–∞ –¥—Ä—É–≥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
}
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Ç–æ–∫–∞
stream >> data; // –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –µ—Å–ª–∏ —É –ø–æ—Ç–æ–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –æ—à–∏–±–æ–∫

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞, –∑–∞—Ç–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏)
if (filesystem::exists("file.txt")) {
    ifstream file("file.txt"); // –§–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º
}

// –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ filesystem
filesystem::create_directories("path"); // –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å filesystem_error
```

### –ü–∞–º—è—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–•–æ—Ä–æ—à–æ:**
```cpp
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
ostringstream oss;
oss << "–ó–Ω–∞—á–µ–Ω–∏–µ: " << value << "\n";
string result = oss.str();

// –†–µ–∑–µ—Ä–≤–∏—Ä—É–π—Ç–µ –º–µ—Å—Ç–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
string buffer;
buffer.reserve(estimated_size);

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã –±—É—Ñ–µ—Ä–æ–≤ (–æ–±—ã—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ 1KB-64KB)
vector<char> buffer(8192);

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ regex –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
static const regex pattern(R"(\d{3}-\d{2}-\d{4})");
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞–ª—ã–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫
string result = "–ó–Ω–∞—á–µ–Ω–∏–µ: ";
result += to_string(value);
result += "\n"; // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

// –°–æ–∑–¥–∞–Ω–∏–µ regex –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ü–∏–∫–ª–∞—Ö
for (const string& text : texts) {
    regex pattern("\\d+"); // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é - –º–µ–¥–ª–µ–Ω–Ω–æ!
    // ...
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫—Ä–æ—à–µ—á–Ω—ã—Ö –±—É—Ñ–µ—Ä–æ–≤ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
array<char, 1> tiny_buffer; // –°–ª–∏—à–∫–æ–º –º–∞–ª, –≤—ã–∑—ã–≤–∞–µ—Ç –º–Ω–æ–≥–æ I/O –æ–ø–µ—Ä–∞—Ü–∏–π
```

### –ü—É—Ç–∏ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–•–æ—Ä–æ—à–æ:**
```cpp
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ filesystem::path –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã—Ö –ø—É—Ç–µ–π
namespace fs = std::filesystem;
fs::path p = fs::path("folder") / "subfolder" / "file.txt";

// –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ª–∏—Ç–µ—Ä–∞–ª –ø—É—Ç–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
fs::path operator""_p(const char* str, size_t len) {
    return fs::path(str, str + len);
}
// –¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å: "folder"_p / "file.txt"_p

// –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
error_code ec;
fs::create_directories("deep/nested/path", ec);
if (ec) {
    cerr << "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: " << ec.message() << "\n";
}

// –ù–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ –ø—É—Ç–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
auto normalized = path.lexically_normal();
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –ø—É—Ç–µ–π - –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ
string path = "folder\\subfolder\\file.txt"; // –¢–æ–ª—å–∫–æ Windows
string path = "folder/subfolder/file.txt";   // –¢–æ–ª—å–∫–æ Unix

// –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è filesystem
fs::create_directories("path"); // –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å filesystem_error

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
if (path1.string() == path2.string()) { // –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è "a/b" vs "a/./b"
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —Å—ã—Ä—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã

**–•–æ—Ä–æ—à–æ:**
```cpp
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—ã—Ä—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –¥–ª—è regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
regex pattern(R"(\d{3}-\d{2}-\d{4})"); // –ü–∞—Ç—Ç–µ—Ä–Ω SSN
regex email_pattern(R"([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})");

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ regex –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
static const regex num_pattern(R"([+-]?\d+\.?\d*)");

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
regex date_pattern(R"((\d{4})-(\d{2})-(\d{2}))"); // –≥–æ–¥-–º–µ—Å—è—Ü-–¥–µ–Ω—å
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω—ã—Ö —Å–ª–µ—à–µ–π –¥–µ–ª–∞–µ—Ç regex –Ω–µ—á–∏—Ç–∞–µ–º—ã–º
regex pattern("\\d{3}-\\d{2}-\\d{4}");

// –°–æ–∑–¥–∞–Ω–∏–µ regex –æ–±—ä–µ–∫—Ç–æ–≤ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤ —Ü–∏–∫–ª–∞—Ö
for (const string& text : texts) {
    regex pattern("\\d+"); // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é - –º–µ–¥–ª–µ–Ω–Ω–æ!
    // ...
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

**–•–æ—Ä–æ—à–æ:**
```cpp
// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ I/O –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
ios_base::sync_with_stdio(false);
cin.tie(nullptr);
cout.tie(nullptr);

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ '\n' –≤–º–µ—Å—Ç–æ endl –≤ –ø–ª–æ—Ç–Ω—ã—Ö —Ü–∏–∫–ª–∞—Ö
for (int i = 0; i < n; ++i) {
    cout << results[i] << '\n';
}

// –ß–∏—Ç–∞–π—Ç–µ –±–æ–ª—å—à–∏–º–∏ –±–ª–æ–∫–∞–º–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
vector<int> data(n);
for (int i = 0; i < n; ++i) {
    cin >> data[i];
}
```

**–ü–ª–æ—Ö–æ:**
```cpp
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ endl –≤ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏
for (int i = 0; i < 100000; ++i) {
    cout << i << endl; // –ö—Ä–∞–π–Ω–µ –º–µ–¥–ª–µ–Ω–Ω–æ –∏–∑-–∑–∞ —Å–±—Ä–æ—Å–∞ –±—É—Ñ–µ—Ä–∞
}

// –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
// (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ C++ I/O)

// –ß—Ç–µ–Ω–∏–µ –ø–æ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –±–æ–ª—å—à–∏—Ö —Ü–∏–∫–ª–∞—Ö
for (int i = 0; i < 1000000; ++i) {
    int x;
    cin >> x; // –ú–Ω–æ–≥–æ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–µ —á—Ç–µ–Ω–∏–µ
    process(x);
}
```
